"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Video = (function () {
    function Video(id, vid, title) {
        this.src = '';
        console.log(999);
        this.id = id;
        this.vid = vid;
        this.title = title;
        this.getSrc();
    }
    Video.prototype.getSrc = function () {
        var that = this;
        wx.request({
            url: 'https://vv.video.qq.com/getinfo',
            data: {
                vids: this.vid,
                platform: 101001,
                charge: 0,
                otype: 'json'
            },
            header: {
                'content-type': 'application/json;charset=UTF-8'
            },
            method: 'GET',
            dataType: 'json',
            success: function (res) {
                var str = res.data;
                var url = str.match(/(?<=\[{"url":").*?(?=","vt")/);
                var urll = url ? url[0] : '';
                var fn = str.match(/(?<=,"fn":").*?(?=","fs")/);
                var fnn = fn ? fn[0] : '';
                var fvkey = str.match(/(?<=,"fvkey":").*?(?=","head")/);
                var fvkeyy = fvkey ? fvkey : '';
                var src = urll + fnn + "?vkey=" + fvkeyy;
                that.src = src;
                console.log(that.id + ' ' + that.title + ' ' + src);
            }
        });
    };
    return Video;
}());
exports.Video = Video;
exports.videos = [
    new Video(1, 'x0961yzsbpk', '生态环境部宣传片'),
    new Video(2, 'z0961nhl5vi', '环境监测设施'),
    new Video(3, 'f0979palcaj', '城市污水处理设施'),
    new Video(4, 'u096134l8rp', '生活垃圾处理设施'),
    new Video(5, 'x09614l32ux', '废弃电器电子产品处理设施')
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImRhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTtJQUtJLGVBQVksRUFBVSxFQUFFLEdBQVcsRUFBRSxLQUFhO1FBRmxELFFBQUcsR0FBVyxFQUFFLENBQUM7UUFHYixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ2hCLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUNELHNCQUFNLEdBQU47UUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUE7UUFDZixFQUFFLENBQUMsT0FBTyxDQUFDO1lBQ1AsR0FBRyxFQUFFLGlDQUFpQztZQUN0QyxJQUFJLEVBQUU7Z0JBQ0YsSUFBSSxFQUFFLElBQUksQ0FBQyxHQUFHO2dCQUNkLFFBQVEsRUFBRSxNQUFNO2dCQUNoQixNQUFNLEVBQUUsQ0FBQztnQkFDVCxLQUFLLEVBQUUsTUFBTTthQUNoQjtZQUNELE1BQU0sRUFBRTtnQkFDSixjQUFjLEVBQUUsZ0NBQWdDO2FBQ25EO1lBQ0QsTUFBTSxFQUFFLEtBQUs7WUFDYixRQUFRLEVBQUUsTUFBTTtZQUNoQixPQUFPLEVBQUUsVUFBVSxHQUFHO2dCQUNsQixJQUFJLEdBQUcsR0FBVyxHQUFHLENBQUMsSUFBYyxDQUFDO2dCQUVyQyxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLDhCQUE4QixDQUFDLENBQUM7Z0JBQ3BELElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQzdCLElBQUksRUFBRSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztnQkFDaEQsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQkFDMUIsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO2dCQUN4RCxJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUVoQyxJQUFJLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLFFBQVEsR0FBRyxNQUFNLENBQUM7Z0JBQ3pDLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO2dCQUNmLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUE7WUFDdkQsQ0FBQztTQUNKLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTCxZQUFDO0FBQUQsQ0FBQyxBQTVDRCxJQTRDQztBQTVDWSxzQkFBSztBQThDUCxRQUFBLE1BQU0sR0FBWTtJQUN6QixJQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUUsYUFBYSxFQUFFLFVBQVUsQ0FBQztJQUN2QyxJQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUUsYUFBYSxFQUFFLFFBQVEsQ0FBQztJQUNyQyxJQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUUsYUFBYSxFQUFFLFVBQVUsQ0FBQztJQUN2QyxJQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUUsYUFBYSxFQUFFLFVBQVUsQ0FBQztJQUN2QyxJQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUUsYUFBYSxFQUFFLGNBQWMsQ0FBQztDQUM5QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFZpZGVvIHtcclxuICAgIGlkOiBudW1iZXI7XHJcbiAgICB2aWQ6IHN0cmluZztcclxuICAgIHNyYzogc3RyaW5nID0gJyc7XHJcbiAgICB0aXRsZTogc3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgdmlkOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyg5OTkpXHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMudmlkID0gdmlkO1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcclxuICAgICAgICB0aGlzLmdldFNyYygpO1xyXG4gICAgfVxyXG4gICAgZ2V0U3JjKCkge1xyXG4gICAgICAgIHZhciB0aGF0ID0gdGhpc1xyXG4gICAgICAgIHd4LnJlcXVlc3Qoe1xyXG4gICAgICAgICAgICB1cmw6ICdodHRwczovL3Z2LnZpZGVvLnFxLmNvbS9nZXRpbmZvJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgdmlkczogdGhpcy52aWQsXHJcbiAgICAgICAgICAgICAgICBwbGF0Zm9ybTogMTAxMDAxLFxyXG4gICAgICAgICAgICAgICAgY2hhcmdlOiAwLFxyXG4gICAgICAgICAgICAgICAgb3R5cGU6ICdqc29uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBoZWFkZXI6IHtcclxuICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JyAvLyDpu5jorqTlgLxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0cjogc3RyaW5nID0gcmVzLmRhdGEgYXMgc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgLy/nlKjmraPliJnooajovr7lvI9cclxuICAgICAgICAgICAgICAgIGxldCB1cmwgPSBzdHIubWF0Y2goLyg/PD1cXFt7XCJ1cmxcIjpcIikuKj8oPz1cIixcInZ0XCIpLyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdXJsbCA9IHVybCA/IHVybFswXSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZuID0gc3RyLm1hdGNoKC8oPzw9LFwiZm5cIjpcIikuKj8oPz1cIixcImZzXCIpLyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZm5uID0gZm4gPyBmblswXSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZ2a2V5ID0gc3RyLm1hdGNoKC8oPzw9LFwiZnZrZXlcIjpcIikuKj8oPz1cIixcImhlYWRcIikvKTtcclxuICAgICAgICAgICAgICAgIGxldCBmdmtleXkgPSBmdmtleSA/IGZ2a2V5IDogJyc7XHJcbiAgICAgICAgICAgICAgICAvL+inhOW+i3VybCArIGZuICsgJz92a2V5PScgKyBmdmtleSBcclxuICAgICAgICAgICAgICAgIGxldCBzcmMgPSB1cmxsICsgZm5uICsgXCI/dmtleT1cIiArIGZ2a2V5eTtcclxuICAgICAgICAgICAgICAgIHRoYXQuc3JjID0gc3JjO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhhdC5pZCArICcgJyArIHRoYXQudGl0bGUgKyAnICcgKyBzcmMpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBsZXQgdmlkZW9zOiBWaWRlb1tdID0gW1xyXG4gICAgbmV3IFZpZGVvKDEsICd4MDk2MXl6c2JwaycsICfnlJ/mgIHnjq/looPpg6jlrqPkvKDniYcnKSxcclxuICAgIG5ldyBWaWRlbygyLCAnejA5NjFuaGw1dmknLCAn546v5aKD55uR5rWL6K6+5pa9JyksXHJcbiAgICBuZXcgVmlkZW8oMywgJ2YwOTc5cGFsY2FqJywgJ+WfjuW4guaxoeawtOWkhOeQhuiuvuaWvScpLFxyXG4gICAgbmV3IFZpZGVvKDQsICd1MDk2MTM0bDhycCcsICfnlJ/mtLvlnoPlnL7lpITnkIborr7mlr0nKSxcclxuICAgIG5ldyBWaWRlbyg1LCAneDA5NjE0bDMydXgnLCAn5bqf5byD55S15Zmo55S15a2Q5Lqn5ZOB5aSE55CG6K6+5pa9JylcclxuXTtcclxuLy9tb2R1bGUuZXhwb3J0cyA9IHsgdmlkZW9zOiB2aWRlb3MgfTtcclxuLy9leHBvcnQgPSB2aWRlb3M7Il19