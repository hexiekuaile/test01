"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.marker = exports.Marker = exports.markersSimple = exports.MarkerSimple = void 0;
var commonData_1 = require("../../utils/commonData");
var MarkerSimple = (function () {
    function MarkerSimple(id, type, longitude, latitude, name) {
        this.id = id;
        this.type = type;
        this.longitude = longitude;
        this.latitude = latitude;
        this.name = name;
    }
    return MarkerSimple;
}());
exports.MarkerSimple = MarkerSimple;
;
;
var URL_MARKERSSIMPLE_JSON = commonData_1.EXTERNAL_DATA_PATH + "/data/markersSimple.json";
function getMarkersSimple() {
    var func = function () {
        wx.request({
            url: URL_MARKERSSIMPLE_JSON,
            success: function (res) {
                func.values = res.data;
                if (func.valuesCallback) {
                    func.valuesCallback(func.values);
                }
            },
            fail: function (res) {
                console.log('markersSimple网络连接错误： ' + res.errMsg);
            }
        });
    };
    return func;
}
;
exports.markersSimple = getMarkersSimple();
var URL_PATH_PRE_IMG = commonData_1.EXTERNAL_DATA_PATH + "/img/";
var Marker = (function () {
    function Marker(id, type, longitude, latitude, name, address, tel, jiedainengli, imgNum, imgsURL, info) {
        if (imgNum === void 0) { imgNum = 0; }
        if (imgsURL === void 0) { imgsURL = []; }
        if (info === void 0) { info = ''; }
        this.id = id;
        this.type = type;
        this.longitude = longitude;
        this.latitude = latitude;
        this.name = name;
        this.address = address;
        this.tel = tel;
        this.jiedainengli = jiedainengli;
        this.info = info;
        this.imgNum = imgNum;
        this.imgsURL = imgsURL;
        if (imgNum > 9)
            this.imgNum = 9;
        else if (imgNum < 0)
            this.imgNum = 0;
        if (imgsURL.length == 0 && imgNum > 0)
            for (var i = 0; i < imgNum; i++) {
                var u = URL_PATH_PRE_IMG + id + i + '.jpg';
                this.imgsURL.push(u);
            }
    }
    return Marker;
}());
exports.Marker = Marker;
;
;
var URL_MARKERS_JSON = commonData_1.EXTERNAL_DATA_PATH + "/data/marker";
function getMarker() {
    var func = function (id) {
        wx.request({
            url: URL_MARKERS_JSON + id + '.json',
            success: function (res) {
                func.value = res.data;
                if (func.value.imgNum > 9)
                    func.value.imgNum = 9;
                else if (func.value.imgNum < 0)
                    func.value.imgNum = 0;
                func.value.imgsURL = [];
                if (func.value.imgNum > 0 && func.value.imgsURL.length == 0)
                    for (var i = 1; i < func.value.imgNum + 1; i++) {
                        var u = URL_PATH_PRE_IMG + id + i + '.jpg';
                        func.value.imgsURL.push(u);
                    }
                if (func.valueCallback) {
                    func.valueCallback(func.value);
                }
            },
            fail: function (res) {
                console.log('地图定位点详细信息，网络连接错误 id=' + id + ' : ' + res.errMsg);
            }
        });
    };
    return func;
}
;
exports.marker = getMarker();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmV0ZGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm5ldGRhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEscURBQTREO0FBRTVEO0lBTUUsc0JBQVksRUFBVSxFQUFFLElBQVksRUFBRSxTQUFpQixFQUFFLFFBQWdCLEVBQUUsSUFBWTtRQUNyRixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ25CLENBQUM7SUFDSCxtQkFBQztBQUFELENBQUMsQUFiRCxJQWFDO0FBYlksb0NBQVk7QUFheEIsQ0FBQztBQU1ELENBQUM7QUFFRixJQUFNLHNCQUFzQixHQUFXLCtCQUFrQixHQUFDLDBCQUEwQixDQUFDO0FBRXJGLFNBQVMsZ0JBQWdCO0lBQ3ZCLElBQUksSUFBSSxHQUFtQjtRQUN6QixFQUFFLENBQUMsT0FBTyxDQUFDO1lBQ1QsR0FBRyxFQUFFLHNCQUFzQjtZQUMzQixPQUFPLEVBQVAsVUFBUSxHQUFHO2dCQUNULElBQUksQ0FBQyxNQUFNLEdBQW1CLEdBQUcsQ0FBQyxJQUFJLENBQUM7Z0JBRXZDLElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRTtvQkFDdkIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7aUJBQ2xDO1lBQ0gsQ0FBQztZQUNELElBQUksWUFBQyxHQUFHO2dCQUNOLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQ25ELENBQUM7U0FDRixDQUFDLENBQUM7SUFDTCxDQUFDLENBQUM7SUFDRixPQUFPLElBQUksQ0FBQztBQUNkLENBQUM7QUFBQSxDQUFD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QUksQ0FBQyxHQUFHLGdCQUFnQixHQUFHLEVBQUUsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO3dCQUMzQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQzVCO2dCQUNILElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtvQkFDdEIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQ2hDO1lBQ0gsQ0FBQztZQUNELElBQUksWUFBQyxHQUFHO2dCQUNOLE9BQU8sQ0FBQyxHQUFHLENBQUMsc0JBQXNCLEdBQUcsRUFBRSxHQUFHLEtBQUssR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDL0QsQ0FBQztTQUNGLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQztJQUNGLE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQUFBLENBQUM7QUFFUyxRQUFBLE1BQU0sR0FBRyxTQUFTLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVYVEVSTkFMX0RBVEFfUEFUSCB9IGZyb20gXCIuLi8uLi91dGlscy9jb21tb25EYXRhXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTWFya2VyU2ltcGxlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/nroDljZXnmoTlnLDlm77moIforrDngrnnsbtcclxuICBpZDogbnVtYmVyOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5bqP5Y+3XHJcbiAgdHlwZTogc3RyaW5nOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+exu+Wei1xyXG4gIGxvbmdpdHVkZTogbnVtYmVyOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/nu4/luqZcclxuICBsYXRpdHVkZTogbnVtYmVyOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v57qs5bqmIFxyXG4gIG5hbWU6IHN0cmluZzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lkI3np7BcclxuICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB0eXBlOiBzdHJpbmcsIGxvbmdpdHVkZTogbnVtYmVyLCBsYXRpdHVkZTogbnVtYmVyLCBuYW1lOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICB0aGlzLmxvbmdpdHVkZSA9IGxvbmdpdHVkZTtcclxuICAgIHRoaXMubGF0aXR1ZGUgPSBsYXRpdHVkZTtcclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgfVxyXG59O1xyXG5cclxuaW50ZXJmYWNlIElNYXJrZXJzU2ltcGxlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5re35ZCI57G75Z6L55qE5o6l5Y+j77yM566A5Y2V55qE5Zyw5Zu+5qCH6K6w54K55o6l5Y+jXHJcbiAgKCk6IHZvaWQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+aOpeWPo+eahOWfuuehgOaWueazlVxyXG4gIHZhbHVlczogTWFya2VyU2ltcGxlW107ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/nroDljZXnmoTlnLDlm77moIforrDngrnmlbDnu4TvvIznlLHln7rnoYDmlrnms5Xku47nvZHnu5zor7fmsYLmlbDmja5cclxuICB2YWx1ZXNDYWxsYmFjaz86ICh2YWx1ZXM6IE1hcmtlclNpbXBsZVtdKSA9PiB2b2lkOyAgICAgIC8v5Y+v6YCJ55qE5o6l5Y+j55qE5Zue6LCD5pa55rOV77yMXHJcbn07XHJcblxyXG5jb25zdCBVUkxfTUFSS0VSU1NJTVBMRV9KU09OOiBzdHJpbmcgPSBFWFRFUk5BTF9EQVRBX1BBVEgrXCIvZGF0YS9tYXJrZXJzU2ltcGxlLmpzb25cIjsvL+WcsOWbvuagh+iusOeCueeahOeugOWNleS/oeaBr++8jOS7heS7hee7j+e6rOW6puOAgeWQjeensFxyXG5cclxuZnVuY3Rpb24gZ2V0TWFya2Vyc1NpbXBsZSgpOiBJTWFya2Vyc1NpbXBsZSB7ICAgICAgICAgICAgICAvL+aOpeWPo+WunueOsO+8jOS7heWunueOsOS6huWfuuehgOaWueazleS7o+egge+8jOacquWunueOsOWbnuiwg+aWueazle+8jFxyXG4gIGxldCBmdW5jID0gPElNYXJrZXJzU2ltcGxlPmZ1bmN0aW9uICgpIHtcclxuICAgIHd4LnJlcXVlc3QoeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v572R57uc6K+35rGC5Y+W5pWw5o2uXHJcbiAgICAgIHVybDogVVJMX01BUktFUlNTSU1QTEVfSlNPTiwgICAgICAgICAgICAgICAgICAgICAgICAgLy/nroDljZXlnLDlm77moIforrDngrlqc29u5paH5Lu255qE572R57uc5Zyw5Z2AXHJcbiAgICAgIHN1Y2Nlc3MocmVzKSB7XHJcbiAgICAgICAgZnVuYy52YWx1ZXMgPSA8TWFya2VyU2ltcGxlW10+cmVzLmRhdGE7XHJcblxyXG4gICAgICAgIGlmIChmdW5jLnZhbHVlc0NhbGxiYWNrKSB7ICAgICAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzlm57osIPmlrnms5XlrZjlnKjvvIzliJnov5DooYzlm57osIPmlrnms5VcclxuICAgICAgICAgIGZ1bmMudmFsdWVzQ2FsbGJhY2soZnVuYy52YWx1ZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgZmFpbChyZXMpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnbWFya2Vyc1NpbXBsZee9kee7nOi/nuaOpemUmeivr++8miAnICsgcmVzLmVyck1zZylcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuICByZXR1cm4gZnVuYztcclxufTtcclxuLy/lo7DmmI7lr7nosaHlj5jph49cclxuZXhwb3J0IGxldCBtYXJrZXJzU2ltcGxlID0gZ2V0TWFya2Vyc1NpbXBsZSgpO1xyXG4vL+i/kOihjOWvueixoeeahOWfuuehgOaWueazleS7o+egge+8jOe9kee7nOivt+axguaVsOaNrlxyXG4vL21hcmtlcnNTaW1wbGUoKTtcclxuXHJcbmNvbnN0IFVSTF9QQVRIX1BSRV9JTUc6IHN0cmluZyA9IEVYVEVSTkFMX0RBVEFfUEFUSCtcIi9pbWcvXCI7Ly/lnLDlm77moIforrDngrnku6PooajnmoTlvIDmlL7ljZXkvY3nhafniYd1cmzliY3nvIBcclxuXHJcbmV4cG9ydCBjbGFzcyBNYXJrZXIgeyAgICAgICAgICAgICAgICAgICAgICAgLy/lnLDlm77moIforrDngrnnsbtcclxuICBpZDogbnVtYmVyO1xyXG4gIHR5cGU6IHN0cmluZzsvL+exu+Wei1xyXG4gIGxvbmdpdHVkZTogbnVtYmVyOy8v57uP5bqmXHJcbiAgbGF0aXR1ZGU6IG51bWJlcjsvL+e6rOW6plxyXG4gIG5hbWU6IHN0cmluZzsvL+WQjeensFxyXG4gIGFkZHJlc3M6IHN0cmluZzsvL+WcsOWdgFxyXG4gIHRlbDogc3RyaW5nOy8v55S16K+dXHJcbiAgamllZGFpbmVuZ2xpOiBudW1iZXI7Ly/mjqXlvoXog73liptcclxuICBpbWdOdW06IG51bWJlcjsvL+WbvueJh+aVsOmHj++8jOWbvueJh+WQjeensOaYr2lkK2ltZ051bS5wbmfvvIznuqblrprvvJow4omkaW1nTnVt4omkOe+8jOWmgu+8mjExLnBuZ++8jDIxLnBuZ++8jDIyLnBuZ1xyXG4gIGltZ3NVUkw6IHN0cmluZ1tdOy8v5byA5pS+5Y2V5L2N54Wn54mH5pWw57uEXHJcbiAgaW5mbzogc3RyaW5nOy8v5L+h5oGv5paH5pysXHJcbiAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgdHlwZTogc3RyaW5nLCBsb25naXR1ZGU6IG51bWJlciwgbGF0aXR1ZGU6IG51bWJlciwgbmFtZTogc3RyaW5nLCBhZGRyZXNzOiBzdHJpbmcsIHRlbDogc3RyaW5nLCBqaWVkYWluZW5nbGk6IG51bWJlciwgaW1nTnVtOiBudW1iZXIgPSAwLCBpbWdzVVJMOiBzdHJpbmdbXSA9IDxzdHJpbmdbXT5bXSxcclxuICAgIGluZm86IHN0cmluZyA9ICcnKSB7XHJcbiAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgdGhpcy5sb25naXR1ZGUgPSBsb25naXR1ZGU7XHJcbiAgICB0aGlzLmxhdGl0dWRlID0gbGF0aXR1ZGU7XHJcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcclxuICAgIHRoaXMudGVsID0gdGVsO1xyXG4gICAgdGhpcy5qaWVkYWluZW5nbGkgPSBqaWVkYWluZW5nbGk7XHJcbiAgICB0aGlzLmluZm8gPSBpbmZvO1xyXG4gICAgdGhpcy5pbWdOdW0gPSBpbWdOdW07XHJcbiAgICB0aGlzLmltZ3NVUkwgPSBpbWdzVVJMO1xyXG5cclxuICAgIGlmIChpbWdOdW0gPiA5KVxyXG4gICAgICB0aGlzLmltZ051bSA9IDk7XHJcbiAgICBlbHNlIGlmIChpbWdOdW0gPCAwKVxyXG4gICAgICB0aGlzLmltZ051bSA9IDBcclxuXHJcbiAgICBpZiAoaW1nc1VSTC5sZW5ndGggPT0gMCAmJiBpbWdOdW0gPiAwKSAvL+iuvue9ruWNleS9jeS/oeaBr+S4reeahOWbvueJh1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltZ051bTsgaSsrKSB7XHJcbiAgICAgICAgbGV0IHUgPSBVUkxfUEFUSF9QUkVfSU1HICsgaWQgKyBpICsgJy5qcGcnOy8v57qm5a6a77ya5Zu+54mH6Lev5b6EXHJcbiAgICAgICAgdGhpcy5pbWdzVVJMLnB1c2godSk7XHJcbiAgICAgIH1cclxuICB9XHJcbn07XHJcblxyXG5pbnRlcmZhY2UgSU1hcmtlciB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5re35ZCI57G75Z6L55qE5o6l5Y+j77yM5Zyw5Zu+5qCH6K6w54K55o6l5Y+jXHJcbiAgKGlkOiBudW1iZXIpOiB2b2lkOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/mjqXlj6PnmoTln7rnoYDmlrnms5VcclxuICB2YWx1ZTogTWFya2VyOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WcsOWbvuagh+iusOeCue+8jOeUseWfuuehgOaWueazleS7jue9kee7nOivt+axguaVsOaNrlxyXG4gIHZhbHVlQ2FsbGJhY2s/OiAodmFsdWU6IE1hcmtlcikgPT4gdm9pZDsgICAgICAgICAgICAgICAgLy/lj6/pgInnmoTmjqXlj6PnmoTlm57osIPmlrnms5XvvIxcclxufTtcclxuXHJcbi8v5Zyw5Zu+5qCH6K6w54K5anNvbuaWh+S7tueahOWcsOWdgO+8jOW9ouWmgiBodHRwczovL2EtMTI1NjEzNjQ5My5jb3MuYXAtbmFuamluZy5teXFjbG91ZC5jb20vZnloYnNzL21hcmtlcjEuanNvblxyXG5jb25zdCBVUkxfTUFSS0VSU19KU09OOiBzdHJpbmcgPSBFWFRFUk5BTF9EQVRBX1BBVEgrXCIvZGF0YS9tYXJrZXJcIjsvL+WcsOWbvuagh+iusOeCuei+g+WkmuS/oeaBr++8jOWQq+ivpue7huS/oeaBryDlnLDlnYDjgIHnlLXor53jgIHnrYlcclxuXHJcbmZ1bmN0aW9uIGdldE1hcmtlcigpOiBJTWFya2VyIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/mjqXlj6Plrp7njrDvvIzku4Xlrp7njrDkuobln7rnoYDmlrnms5Xku6PnoIHvvIzmnKrlrp7njrDlm57osIPmlrnms5XvvIxcclxuICBsZXQgZnVuYyA9IDxJTWFya2VyPmZ1bmN0aW9uIChpZDogbnVtYmVyKSB7ICAgICAgICAgICAgICAvL+e9kee7nOivt+axguWPluaVsOaNrlxyXG4gICAgd3gucmVxdWVzdCh7XHJcbiAgICAgIHVybDogVVJMX01BUktFUlNfSlNPTiArIGlkICsgJy5qc29uJywgICAgICAgICAgICAgICAgIC8v57qm5a6a77ya566A5Y2V5Zyw5Zu+5qCH6K6w54K5anNvbuaWh+S7tueahOe9kee7nOWcsOWdgFxyXG4gICAgICBzdWNjZXNzKHJlcykge1xyXG5cclxuICAgICAgICBmdW5jLnZhbHVlID0gPE1hcmtlcj5yZXMuZGF0YTsgICAgICAgICAgICAgICAgICAgIC8v6Ieq5Yqo6KOF6YWN77yM5L2G5rKh5pyJ5ZCv5Yqo57G75p6E5bu65ZmoICBcclxuXHJcbiAgICAgICAgaWYgKGZ1bmMudmFsdWUuaW1nTnVtID4gOSlcclxuICAgICAgICAgIGZ1bmMudmFsdWUuaW1nTnVtID0gOTtcclxuICAgICAgICBlbHNlIGlmIChmdW5jLnZhbHVlLmltZ051bSA8IDApXHJcbiAgICAgICAgICBmdW5jLnZhbHVlLmltZ051bSA9IDBcclxuXHJcbiAgICAgICAgZnVuYy52YWx1ZS5pbWdzVVJMID0gPHN0cmluZ1tdPltdOyAgICAgICAgICAgICAgLy/liJ3lp4vljJblm77niYfot6/lvoTmlbDnu4RcclxuXHJcbiAgICAgICAgaWYgKGZ1bmMudmFsdWUuaW1nTnVtID4gMCAmJiBmdW5jLnZhbHVlLmltZ3NVUkwubGVuZ3RoID09IDApIC8v6K6+572u5Y2V5L2N5L+h5oGv5Lit55qE5Zu+54mHXHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGZ1bmMudmFsdWUuaW1nTnVtICsgMTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCB1ID0gVVJMX1BBVEhfUFJFX0lNRyArIGlkICsgaSArICcuanBnJztcclxuICAgICAgICAgICAgZnVuYy52YWx1ZS5pbWdzVVJMLnB1c2godSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZ1bmMudmFsdWVDYWxsYmFjaykgeyAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzlm57osIPmlrnms5XlrZjlnKjvvIzliJnov5DooYzlm57osIPmlrnms5VcclxuICAgICAgICAgIGZ1bmMudmFsdWVDYWxsYmFjayhmdW5jLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGZhaWwocmVzKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+WcsOWbvuWumuS9jeeCueivpue7huS/oeaBr++8jOe9kee7nOi/nuaOpemUmeivryBpZD0nICsgaWQgKyAnIDogJyArIHJlcy5lcnJNc2cpXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgcmV0dXJuIGZ1bmM7XHJcbn07XHJcbi8v5aOw5piO5a+56LGh5Y+Y6YePXHJcbmV4cG9ydCBsZXQgbWFya2VyID0gZ2V0TWFya2VyKCk7XHJcbiJdfQ==