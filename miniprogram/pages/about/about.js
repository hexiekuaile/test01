"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var netdata_1 = require("./netdata");
var slide_1 = require("../../utils/slide");
var commonData_1 = require("../../utils/commonData");
Page({
    data: {
        EXTERNAL_DATA_PATH: commonData_1.EXTERNAL_DATA_PATH,
        IMG_PATH_PRE: commonData_1.EXTERNAL_DATA_PATH + "img/about/",
        ABOUT_JSON_PATH: commonData_1.EXTERNAL_DATA_PATH + "data/about.json",
        map: {},
        keys: [],
        imgJudge: [],
        preImgs: [],
        eventTouchStart: {},
    },
    onLoad: function () {
        this.showLoading();
        var iAbout = netdata_1.getAbout(this.data.ABOUT_JSON_PATH);
        var thiss = this;
        if (!iAbout.valuesCallback)
            iAbout.valuesCallback = function (map, keys) {
                for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {
                    var k = keys_1[_i];
                    if (map[k] instanceof Array) {
                        thiss.data.imgJudge.push(true);
                        for (var _a = 0, _b = map[k]; _a < _b.length; _a++) {
                            var p = _b[_a];
                            thiss.data.preImgs.push(thiss.data.IMG_PATH_PRE + "PRE" + p);
                        }
                    }
                    else
                        thiss.data.imgJudge.push(false);
                }
                thiss.setData({
                    map: map,
                    keys: keys,
                    imgJudge: thiss.data.imgJudge,
                    preImgs: thiss.data.preImgs,
                });
                thiss.hideLoading();
            };
        iAbout();
    },
    touchStart: function (e) {
        this.setData({
            eventTouchStart: e
        });
    },
    touchEnd: function (e) {
        slide_1.jumpNav2("about", this.data.eventTouchStart, e);
    },
    previewImg: function (event) {
        var url = this.data.IMG_PATH_PRE + "PRE" + event.currentTarget.dataset.url;
        var thiss = this;
        wx.previewImage({
            current: url,
            urls: thiss.data.preImgs,
        });
    },
    onPullDownRefresh: function () {
        this.setData({
            map: {},
            keys: [],
            imgJudge: [],
            preImgs: [],
        });
        this.onLoad();
    },
    showLoading: function () {
        wx.showNavigationBarLoading();
        wx.showLoading({
            title: "刷新中...",
        });
    },
    hideLoading: function () {
        wx.hideLoading();
        wx.hideNavigationBarLoading();
        wx.stopPullDownRefresh();
    },
    onReady: function () { },
    onShow: function () { },
    onHide: function () { },
    onUnload: function () {
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWJvdXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJhYm91dC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQU9BLHFDQUFvQztBQUNwQywyQ0FBNEM7QUFDNUMscURBQTREO0FBRTVELElBQUksQ0FBQztJQUNILElBQUksRUFBRTtRQUNKLGtCQUFrQixFQUFFLCtCQUFrQjtRQUN0QyxZQUFZLEVBQUUsK0JBQWtCLEdBQUcsWUFBWTtRQUMvQyxlQUFlLEVBQUUsK0JBQWtCLEdBQUcsaUJBQWlCO1FBQ3ZELEdBQUcsRUFBd0MsRUFBRTtRQUM3QyxJQUFJLEVBQVksRUFBRTtRQUNsQixRQUFRLEVBQWEsRUFBRTtRQUN2QixPQUFPLEVBQVksRUFBRTtRQUNyQixlQUFlLEVBQUUsRUFBRTtLQUNwQjtJQVFELE1BQU07UUFDSixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkIsSUFBSSxNQUFNLEdBQUcsa0JBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBRWpELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWM7WUFDeEIsTUFBTSxDQUFDLGNBQWMsR0FBRyxVQUFVLEdBQXlDLEVBQUUsSUFBYztnQkFFekYsS0FBYyxVQUFJLEVBQUosYUFBSSxFQUFKLGtCQUFJLEVBQUosSUFBSSxFQUFFO29CQUFmLElBQUksQ0FBQyxhQUFBO29CQUNSLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxZQUFZLEtBQUssRUFBRTt3QkFFM0IsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO3dCQUMvQixLQUFjLFVBQU0sRUFBTixLQUFBLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBTixjQUFNLEVBQU4sSUFBTTs0QkFBZixJQUFJLENBQUMsU0FBQTs0QkFDUixLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO3lCQUFBO3FCQUNoRTs7d0JBQU0sS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUN4QztnQkFDRCxLQUFLLENBQUMsT0FBTyxDQUFDO29CQUNaLEdBQUcsRUFBRSxHQUFHO29CQUNSLElBQUksRUFBRSxJQUFJO29CQUNWLFFBQVEsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVE7b0JBQzdCLE9BQU8sRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU87aUJBQzVCLENBQUMsQ0FBQztnQkFDSCxLQUFLLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDdEIsQ0FBQyxDQUFDO1FBRUosTUFBTSxFQUFFLENBQUM7SUFDWCxDQUFDO0lBS0QsVUFBVSxZQUFDLENBQU07UUFDZixJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ1gsZUFBZSxFQUFFLENBQUM7U0FDbkIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUlELFFBQVEsWUFBQyxDQUFNO1FBQ2IsZ0JBQVEsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUlELFVBQVUsWUFBQyxLQUFVO1FBQ25CLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUM7UUFDM0UsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLEVBQUUsQ0FBQyxZQUFZLENBQUM7WUFDZCxPQUFPLEVBQUUsR0FBRztZQUNaLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU87U0FDekIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUlELGlCQUFpQjtRQUNmLElBQUksQ0FBQyxPQUFPLENBQUM7WUFDWCxHQUFHLEVBQXdDLEVBQUU7WUFDN0MsSUFBSSxFQUFZLEVBQUU7WUFDbEIsUUFBUSxFQUFhLEVBQUU7WUFDdkIsT0FBTyxFQUFZLEVBQUU7U0FDdEIsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFJRCxXQUFXO1FBQ1QsRUFBRSxDQUFDLHdCQUF3QixFQUFFLENBQUM7UUFDOUIsRUFBRSxDQUFDLFdBQVcsQ0FBQztZQUViLEtBQUssRUFBRSxRQUFRO1NBQ2hCLENBQUMsQ0FBQztJQUNMLENBQUM7SUFJRCxXQUFXO1FBQ1QsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ2pCLEVBQUUsQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO1FBQzlCLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFJRCxPQUFPLGdCQUFLLENBQUM7SUFLYixNQUFNLGdCQUFLLENBQUM7SUFLWixNQUFNLGdCQUFLLENBQUM7SUFLWixRQUFRO0lBRVIsQ0FBQztDQUNGLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIEBBdXRob3I6IHlhbndlaVxyXG4gKiBARGF0ZTogMjAyMC0wNi0yMiAxMjoyMDowMlxyXG4gKiBATGFzdEVkaXRvcnM6IHlhbndlaVxyXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIwLTA5LTE0IDExOjQwOjQ3XHJcbiAqIEBEZXNjcmlwdGlvbiA6IOWFs+S6jumhtemdoueahOS7o+eggVxyXG4gKi9cclxuaW1wb3J0IHsgZ2V0QWJvdXQgfSBmcm9tIFwiLi9uZXRkYXRhXCJcclxuaW1wb3J0IHsganVtcE5hdjIgfSBmcm9tIFwiLi4vLi4vdXRpbHMvc2xpZGVcIlxyXG5pbXBvcnQgeyBFWFRFUk5BTF9EQVRBX1BBVEggfSBmcm9tIFwiLi4vLi4vdXRpbHMvY29tbW9uRGF0YVwiO1xyXG5cclxuUGFnZSh7XHJcbiAgZGF0YToge1xyXG4gICAgRVhURVJOQUxfREFUQV9QQVRIOiBFWFRFUk5BTF9EQVRBX1BBVEgsLy/lpJbpg6jmlbDmja7lkozlm77niYfmgLvot6/lvoRcclxuICAgIElNR19QQVRIX1BSRTogRVhURVJOQUxfREFUQV9QQVRIICsgXCJpbWcvYWJvdXQvXCIsIC8v5Zu+54mH6Lev5b6E5YmN57yAXHJcbiAgICBBQk9VVF9KU09OX1BBVEg6IEVYVEVSTkFMX0RBVEFfUEFUSCArIFwiZGF0YS9hYm91dC5qc29uXCIsIC8vYWJvdXTkv6Hmga9qc29u5paH5Lu26Lev5b6EXHJcbiAgICBtYXA6IDx7IFtrZXk6IHN0cmluZ106IHN0cmluZyB8IHN0cmluZ1tdIH0+e30sIC8v5YWz5LqO5L+h5oGv77yM6ZSu5YC85a+577yM5YC85pyJ5paH5pys44CB5Zu+54mH6Lev5b6E5YiX6KGoXHJcbiAgICBrZXlzOiA8c3RyaW5nW10+W10sXHJcbiAgICBpbWdKdWRnZTogPGJvb2xlYW5bXT5bXSwgLy/lr7nlupRtYXDplK7lgLzlr7nvvIzliKTmlq3lgLzmmK/lkKbkuLrmlbDnu4TvvIzmmK/liJnkuLrlm77niYfvvIzkuLp0cnVl77yM57qv5bGe5Li6d3htbOmhtemdond4Omlm5pyN5Yqh44CC5ZyoYWJvdXQuanNvbuaWh+S7tuS4re+8jOS+i+Wmgu+8miBcImxvZ29cIjogW1wibG9nby5qcGdcIl0sXHJcbiAgICBwcmVJbWdzOiA8c3RyaW5nW10+W10sIC8v5omA5pyJ6aKE6KeI5Zu+54mH6Lev5b6E5pWw57uEXHJcbiAgICBldmVudFRvdWNoU3RhcnQ6IHt9LCAvL+a7keWKqOaJi+WKv+W8gOWni+S6i+S7tlxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvbjog55Sf5ZG95ZGo5pyf5Ye95pWwLS3nm5HlkKzpobXpnaLliqDovb1cclxuICAgKiAgXHJcbiAgICogXHJcbiAgICovXHJcblxyXG4gIG9uTG9hZCgpIHtcclxuICAgIHRoaXMuc2hvd0xvYWRpbmcoKTsvL+aYvuekuuWKoOi9vei/m+W6puadoVxyXG4gICAgbGV0IGlBYm91dCA9IGdldEFib3V0KHRoaXMuZGF0YS5BQk9VVF9KU09OX1BBVEgpOy8v5Lyg6YCS5Y+C5pWw77yM6I635b6XSUFib3V05o6l5Y+j5a+56LGh44CC5Lmf5Y2z5Yid5aeL5YyWaUFib3V05a+56LGhXHJcblxyXG4gICAgbGV0IHRoaXNzID0gdGhpcztcclxuICAgIGlmICghaUFib3V0LnZhbHVlc0NhbGxiYWNrKSAgICAgIC8v5Yik5pat5Zue6LCD5Ye95pWw5LiN5a2Y5Zyo77yM5YiZ5a6a5LmJXHJcbiAgICAgIGlBYm91dC52YWx1ZXNDYWxsYmFjayA9IGZ1bmN0aW9uIChtYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW10gfSwga2V5czogc3RyaW5nW10pOiB2b2lkIHtcclxuICAgICAgICAvL+WumuS5ieWunueOsOWbnuiwg+eahOS7o+egge+8jOeUqOS6jue9kee7nOaVsOaNruivt+axguWQjuWbnuiwg1xyXG4gICAgICAgIGZvciAobGV0IGsgb2Yga2V5cykge1xyXG4gICAgICAgICAgaWYgKG1hcFtrXSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgIC8v5ZyoYWJvdXQuanNvbuaWh+S7tuS4re+8jOS+i+Wmgu+8mlwibG9nb1wiOiBbXCJsb2dvLmpwZ1wiXVxyXG4gICAgICAgICAgICB0aGlzcy5kYXRhLmltZ0p1ZGdlLnB1c2godHJ1ZSk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHAgb2YgbWFwW2tdKVxyXG4gICAgICAgICAgICAgIHRoaXNzLmRhdGEucHJlSW1ncy5wdXNoKHRoaXNzLmRhdGEuSU1HX1BBVEhfUFJFICsgXCJQUkVcIiArIHApOyAvL+e6puWumu+8muWwj+Wbvui3r+W+hOWJjStQUkU96aKE6KeI5Zu+6Lev5b6EXHJcbiAgICAgICAgICB9IGVsc2UgdGhpc3MuZGF0YS5pbWdKdWRnZS5wdXNoKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpc3Muc2V0RGF0YSh7XHJcbiAgICAgICAgICBtYXA6IG1hcCxcclxuICAgICAgICAgIGtleXM6IGtleXMsXHJcbiAgICAgICAgICBpbWdKdWRnZTogdGhpc3MuZGF0YS5pbWdKdWRnZSxcclxuICAgICAgICAgIHByZUltZ3M6IHRoaXNzLmRhdGEucHJlSW1ncyxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzcy5oaWRlTG9hZGluZygpO1xyXG4gICAgICB9O1xyXG5cclxuICAgIGlBYm91dCgpOy8v5ZCv5YqoSUFib3V05o6l5Y+j5a+56LGh55qE5Z+656GA5Ye95pWw77yM572R57uc6K+75Y+W5ZCE6KeG6aKR5L+h5oGv77yM5pyJ572R57uc6K+35rGC5bu26L+fXHJcbiAgfSxcclxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24g6aG16Z2i55u45YWz5LqL5Lu25aSE55CG5Ye95pWwLS3nm5HlkKznlKjmiLfmu5HliqjlvIDlp4tcclxuICAgKiBAcGFyYW0geyp9IGVcclxuICAgKi9cclxuICB0b3VjaFN0YXJ0KGU6IGFueSkge1xyXG4gICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgZXZlbnRUb3VjaFN0YXJ0OiBlXHJcbiAgICB9KTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIOmhtemdouebuOWFs+S6i+S7tuWkhOeQhuWHveaVsC0t55uR5ZCs55So5oi35ruR5Yqo57uT5p2fXHJcbiAgICovXHJcbiAgdG91Y2hFbmQoZTogYW55KSB7XHJcbiAgICBqdW1wTmF2MihcImFib3V0XCIsIHRoaXMuZGF0YS5ldmVudFRvdWNoU3RhcnQsIGUpO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICog6byg5qCH54K55Ye76aKE6KeI5Zu+54mH5aSn5Zu+XHJcbiAgICovXHJcbiAgcHJldmlld0ltZyhldmVudDogYW55KSB7XHJcbiAgICBsZXQgdXJsID0gdGhpcy5kYXRhLklNR19QQVRIX1BSRSArIFwiUFJFXCIgKyBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQudXJsOyAvL+e6puWumu+8muWwj+Wbvui3r+W+hOWJjStQUkU96aKE6KeI5Zu+6Lev5b6EXHJcbiAgICBsZXQgdGhpc3MgPSB0aGlzO1xyXG4gICAgd3gucHJldmlld0ltYWdlKHtcclxuICAgICAgY3VycmVudDogdXJsLCAvLyDlvZPliY3mmL7npLrlm77niYfnmoRodHRw6ZO+5o6lXHJcbiAgICAgIHVybHM6IHRoaXNzLmRhdGEucHJlSW1ncywgLy8g6ZyA6KaB6aKE6KeI55qE5Zu+54mHaHR0cOmTvuaOpeWIl+ihqFxyXG4gICAgfSk7XHJcbiAgfSxcclxuICAvKipcclxuICAgKiDpobXpnaLnm7jlhbPkuovku7blpITnkIblh73mlbAtLeebkeWQrOeUqOaIt+S4i+aLieWKqOS9nFxyXG4gICAqL1xyXG4gIG9uUHVsbERvd25SZWZyZXNoKCkge1xyXG4gICAgdGhpcy5zZXREYXRhKHtcclxuICAgICAgbWFwOiA8eyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXSB9Pnt9LFxyXG4gICAgICBrZXlzOiA8c3RyaW5nW10+W10sXHJcbiAgICAgIGltZ0p1ZGdlOiA8Ym9vbGVhbltdPltdLFxyXG4gICAgICBwcmVJbWdzOiA8c3RyaW5nW10+W10sXHJcbiAgICB9KTtcclxuICAgIHRoaXMub25Mb2FkKCk7IC8v5YaN5qyh5ouJ5Y+W5paw5pWw5o2uXHJcbiAgfSxcclxuICAvKipcclxuICAgKiDmmL7npLrliqDovb3liqjnlLtcclxuICAgKi9cclxuICBzaG93TG9hZGluZygpIHtcclxuICAgIHd4LnNob3dOYXZpZ2F0aW9uQmFyTG9hZGluZygpOyAvL+WcqOW9k+WJjemhtemdouaYvuekuuWvvOiIquadoeWKoOi9veWKqOeUu1xyXG4gICAgd3guc2hvd0xvYWRpbmcoe1xyXG4gICAgICAvL+aYvuekuiBsb2FkaW5nIOaPkOekuuahhuOAgumcgOS4u+WKqOiwg+eUqCB3eC5oaWRlTG9hZGluZyDmiY3og73lhbPpl63mj5DnpLrmoYZcclxuICAgICAgdGl0bGU6IFwi5Yi35paw5LitLi4uXCIsXHJcbiAgICB9KTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIOmakOiXj+WKoOi9veWKqOeUu1xyXG4gICAqL1xyXG4gIGhpZGVMb2FkaW5nKCkge1xyXG4gICAgd3guaGlkZUxvYWRpbmcoKTsgLy/pmpDol49sb2FkaW5nIOaPkOekuuahhlxyXG4gICAgd3guaGlkZU5hdmlnYXRpb25CYXJMb2FkaW5nKCk7IC8v6ZqQ6JeP5a+86Iiq5p2h5Yqg6L295Yqo55S7XHJcbiAgICB3eC5zdG9wUHVsbERvd25SZWZyZXNoKCk7IC8v5YGc5q2i5LiL5ouJ5Yi3XHJcbiAgfSxcclxuICAvKipcclxuICAgKiDnlJ/lkb3lkajmnJ/lh73mlbAtLeebkeWQrOmhtemdouWIneasoea4suafk+WujOaIkFxyXG4gICAqL1xyXG4gIG9uUmVhZHkoKSB7IH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIOeUn+WRveWRqOacn+WHveaVsC0t55uR5ZCs6aG16Z2i5pi+56S6XHJcbiAgICovXHJcbiAgb25TaG93KCkgeyB9LFxyXG5cclxuICAvKipcclxuICAgKiDnlJ/lkb3lkajmnJ/lh73mlbAtLeebkeWQrOmhtemdoumakOiXj1xyXG4gICAqL1xyXG4gIG9uSGlkZSgpIHsgfSxcclxuXHJcbiAgLyoqXHJcbiAgICog55Sf5ZG95ZGo5pyf5Ye95pWwLS3nm5HlkKzpobXpnaLljbjovb1cclxuICAgKi9cclxuICBvblVubG9hZCgpIHtcclxuICAgIC8vIGNsZWFySW50ZXJ2YWwodGhpcy5kYXRhLnRpbWVyKVxyXG4gIH0sXHJcbn0pOyJdfQ==