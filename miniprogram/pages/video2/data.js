"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Video = (function () {
    function Video(id, vid, title) {
        this.src = '';
        this.id = id;
        this.vid = vid;
        this.title = title;
        this.getSrc();
    }
    Video.prototype.getSrc = function () {
        var that = this;
        wx.request({
            url: 'https://vv.video.qq.com/getinfo',
            data: {
                vids: that.vid,
                platform: 101001,
                charge: 0,
                otype: 'json'
            },
            header: {
                'content-type': 'application/json;charset=UTF-8'
            },
            method: 'GET',
            dataType: 'json',
            success: function (res) {
                var str = res.data;
                var url = str.match(/(?<=\[{"url":").*?(?=","vt")/);
                var urll = url ? url[0] : '';
                var fn = str.match(/(?<=,"fn":").*?(?=","fs")/);
                var fnn = fn ? fn[0] : '';
                var fvkey = str.match(/(?<=,"fvkey":").*?(?=","head")/);
                var fvkeyy = fvkey ? fvkey : '';
                var src = urll + fnn + "?vkey=" + fvkeyy;
                that.src = src;
            },
            fail: function (res) {
                console.log(res.errMsg);
            }
        });
    };
    return Video;
}());
exports.Video = Video;
exports.videos = [
    new Video(1, 'n0826ja0xdr', '静静-危废处置有妙招'),
    new Video(2, 'o0825mp79n0', '静静-电子废弃物'),
    new Video(4, 'f3002ulvouw', '静静：水净化之旅'),
    new Video(3, 'd0516l19tbd', '渣渣的一天：垃圾焚烧发电厂'),
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImRhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTtJQUtJLGVBQVksRUFBVSxFQUFFLEdBQVcsRUFBRSxLQUFhO1FBRmxELFFBQUcsR0FBVyxFQUFFLENBQUM7UUFHYixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFDRCxzQkFBTSxHQUFOO1FBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFBO1FBQ2YsRUFBRSxDQUFDLE9BQU8sQ0FBQztZQUNQLEdBQUcsRUFBRSxpQ0FBaUM7WUFDdEMsSUFBSSxFQUFFO2dCQUNGLElBQUksRUFBRSxJQUFJLENBQUMsR0FBRztnQkFDZCxRQUFRLEVBQUUsTUFBTTtnQkFDaEIsTUFBTSxFQUFFLENBQUM7Z0JBQ1QsS0FBSyxFQUFFLE1BQU07YUFDaEI7WUFDRCxNQUFNLEVBQUU7Z0JBQ0osY0FBYyxFQUFFLGdDQUFnQzthQUNuRDtZQUNELE1BQU0sRUFBRSxLQUFLO1lBQ2IsUUFBUSxFQUFFLE1BQU07WUFDaEIsT0FBTyxFQUFQLFVBQVEsR0FBRztnQkFDUCxJQUFJLEdBQUcsR0FBVyxHQUFHLENBQUMsSUFBYyxDQUFDO2dCQUVyQyxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLDhCQUE4QixDQUFDLENBQUM7Z0JBQ3BELElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQzdCLElBQUksRUFBRSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztnQkFDaEQsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQkFDMUIsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO2dCQUN4RCxJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUVoQyxJQUFJLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLFFBQVEsR0FBRyxNQUFNLENBQUM7Z0JBQ3pDLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1lBRW5CLENBQUM7WUFDRCxJQUFJLFlBQUMsR0FBRztnQkFDSixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUMzQixDQUFDO1NBQ0osQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVMLFlBQUM7QUFBRCxDQUFDLEFBOUNELElBOENDO0FBOUNZLHNCQUFLO0FBZ0RQLFFBQUEsTUFBTSxHQUFZO0lBQ3pCLElBQUksS0FBSyxDQUFDLENBQUMsRUFBRSxhQUFhLEVBQUUsWUFBWSxDQUFDO0lBQ3pDLElBQUksS0FBSyxDQUFDLENBQUMsRUFBRSxhQUFhLEVBQUUsVUFBVSxDQUFDO0lBQ3ZDLElBQUksS0FBSyxDQUFDLENBQUMsRUFBRSxhQUFhLEVBQUUsVUFBVSxDQUFDO0lBQ3ZDLElBQUksS0FBSyxDQUFDLENBQUMsRUFBRSxhQUFhLEVBQUUsZUFBZSxDQUFDO0NBQy9DLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmlkZW8ge1xyXG4gICAgaWQ6IG51bWJlcjtcclxuICAgIHZpZDogc3RyaW5nO1xyXG4gICAgc3JjOiBzdHJpbmcgPSAnJztcclxuICAgIHRpdGxlOiBzdHJpbmc7XHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB2aWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLnZpZCA9IHZpZDtcclxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgdGhpcy5nZXRTcmMoKTtcclxuICAgIH1cclxuICAgIGdldFNyYygpIHtcclxuICAgICAgICBsZXQgdGhhdCA9IHRoaXNcclxuICAgICAgICB3eC5yZXF1ZXN0KHtcclxuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly92di52aWRlby5xcS5jb20vZ2V0aW5mbycsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIHZpZHM6IHRoYXQudmlkLFxyXG4gICAgICAgICAgICAgICAgcGxhdGZvcm06IDEwMTAwMSxcclxuICAgICAgICAgICAgICAgIGNoYXJnZTogMCxcclxuICAgICAgICAgICAgICAgIG90eXBlOiAnanNvbidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGVhZGVyOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcgLy8g6buY6K6k5YC8XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3MocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RyOiBzdHJpbmcgPSByZXMuZGF0YSBhcyBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICAvL+eUqOato+WImeihqOi+vuW8j1xyXG4gICAgICAgICAgICAgICAgbGV0IHVybCA9IHN0ci5tYXRjaCgvKD88PVxcW3tcInVybFwiOlwiKS4qPyg/PVwiLFwidnRcIikvKTtcclxuICAgICAgICAgICAgICAgIGxldCB1cmxsID0gdXJsID8gdXJsWzBdIDogJyc7XHJcbiAgICAgICAgICAgICAgICBsZXQgZm4gPSBzdHIubWF0Y2goLyg/PD0sXCJmblwiOlwiKS4qPyg/PVwiLFwiZnNcIikvKTtcclxuICAgICAgICAgICAgICAgIGxldCBmbm4gPSBmbiA/IGZuWzBdIDogJyc7XHJcbiAgICAgICAgICAgICAgICBsZXQgZnZrZXkgPSBzdHIubWF0Y2goLyg/PD0sXCJmdmtleVwiOlwiKS4qPyg/PVwiLFwiaGVhZFwiKS8pO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZ2a2V5eSA9IGZ2a2V5ID8gZnZrZXkgOiAnJztcclxuICAgICAgICAgICAgICAgIC8v6KeE5b6LdXJsICsgZm4gKyAnP3ZrZXk9JyArIGZ2a2V5IFxyXG4gICAgICAgICAgICAgICAgbGV0IHNyYyA9IHVybGwgKyBmbm4gKyBcIj92a2V5PVwiICsgZnZrZXl5O1xyXG4gICAgICAgICAgICAgICAgdGhhdC5zcmMgPSBzcmM7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGF0LmlkICsgJyAnICsgdGhhdC50aXRsZSArICcgJyArIHNyYylcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmFpbChyZXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5lcnJNc2cpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBsZXQgdmlkZW9zOiBWaWRlb1tdID0gW1xyXG4gICAgbmV3IFZpZGVvKDEsICduMDgyNmphMHhkcicsICfpnZnpnZkt5Y2x5bqf5aSE572u5pyJ5aaZ5oubJyksXHJcbiAgICBuZXcgVmlkZW8oMiwgJ28wODI1bXA3OW4wJywgJ+mdmemdmS3nlLXlrZDlup/lvIPniaknKSxcclxuICAgIG5ldyBWaWRlbyg0LCAnZjMwMDJ1bHZvdXcnLCAn6Z2Z6Z2Z77ya5rC05YeA5YyW5LmL5peFJyksXHJcbiAgICBuZXcgVmlkZW8oMywgJ2QwNTE2bDE5dGJkJywgJ+a4o+a4o+eahOS4gOWkqe+8muWeg+WcvueEmueDp+WPkeeUteWOgicpLFxyXG5dO1xyXG4iXX0=