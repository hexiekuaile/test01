"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var dataFromNet = require("./dataFromNet");
Page({
    data: {
        markersSimple: [],
        marker: undefined,
        markers: [],
        showModalStatus: false,
    },
    onLoad: function () {
        dataFromNet.markersSimple();
        var thiss = this;
        dataFromNet.markersSimple.valuesCallback = function (data) {
            thiss.setData({
                markersSimple: data
            });
        };
    },
    onShow: function () {
    },
    showModal: function (event) {
        var id = event.markerId;
        for (var _i = 0, _a = this.data.markers; _i < _a.length; _i++) {
            var v = _a[_i];
            if (id == v.id) {
                this.setData({
                    marker: v,
                    showModalStatus: true
                });
                break;
            }
        }
        if (!this.data.marker) {
            if (!dataFromNet.marker.valueCallback) {
                var thiss_1 = this;
                dataFromNet.marker.valueCallback = function (value) {
                    thiss_1.data.markers.push(value);
                    thiss_1.setData({
                        marker: value,
                        showModalStatus: true
                    });
                };
            }
            dataFromNet.marker(id);
        }
    },
    hideModal: function () {
        this.setData({
            marker: undefined,
            imgs: [],
            showModalStatus: false
        });
    },
    calling: function (event) {
        var tel = event.currentTarget.dataset.id;
        wx.makePhoneCall({
            phoneNumber: tel,
            success: function () {
                console.log("拨打电话成功！");
            },
            fail: function () {
                console.log("拨打电话失败！");
            }
        });
    },
    daohang: function () {
        var m = this.data.marker;
        this.data.marker = undefined;
        wx.openLocation({
            latitude: m.latitude,
            longitude: m.longitude,
            name: m.name,
            address: m.address
        });
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGl0dS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImRpdHUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwyQ0FBOEM7QUFFOUMsSUFBSSxDQUFDO0lBQ0gsSUFBSSxFQUFFO1FBQ0osYUFBYSxFQUE4QixFQUFFO1FBQzdDLE1BQU0sRUFBa0MsU0FBUztRQUNqRCxPQUFPLEVBQXdCLEVBQUU7UUFDakMsZUFBZSxFQUFFLEtBQUs7S0FFdkI7SUFFRCxNQUFNO1FBQ0osV0FBVyxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBRTVCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQztRQUNqQixXQUFXLENBQUMsYUFBYSxDQUFDLGNBQWMsR0FBRyxVQUFVLElBQWdDO1lBQ25GLEtBQUssQ0FBQyxPQUFPLENBQUM7Z0JBQ1osYUFBYSxFQUFFLElBQUk7YUFDcEIsQ0FBQyxDQUFBO1FBQ0osQ0FBQyxDQUFBO0lBQ0gsQ0FBQztJQUVELE1BQU07SUFDTixDQUFDO0lBRUQsU0FBUyxFQUFFLFVBQVUsS0FBVTtRQUM3QixJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDO1FBR3hCLEtBQWMsVUFBaUIsRUFBakIsS0FBQSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBakIsY0FBaUIsRUFBakIsSUFBaUIsRUFBRTtZQUE1QixJQUFJLENBQUMsU0FBQTtZQUNSLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2QsSUFBSSxDQUFDLE9BQU8sQ0FBQztvQkFDWCxNQUFNLEVBQUUsQ0FBQztvQkFDVCxlQUFlLEVBQUUsSUFBSTtpQkFDdEIsQ0FBQyxDQUFBO2dCQUNGLE1BQU07YUFDUDtTQUNGO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ3JCLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRTtnQkFDckMsSUFBSSxPQUFLLEdBQUcsSUFBSSxDQUFDO2dCQUNqQixXQUFXLENBQUMsTUFBTSxDQUFDLGFBQWEsR0FBRyxVQUFVLEtBQXlCO29CQUNwRSxPQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQy9CLE9BQUssQ0FBQyxPQUFPLENBQUM7d0JBQ1osTUFBTSxFQUFFLEtBQUs7d0JBQ2IsZUFBZSxFQUFFLElBQUk7cUJBQ3RCLENBQUMsQ0FBQTtnQkFDSixDQUFDLENBQUE7YUFDRjtZQUNELFdBQVcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUE7U0FDdkI7SUFFSCxDQUFDO0lBRUQsU0FBUyxFQUFFO1FBQ1QsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNYLE1BQU0sRUFBRSxTQUFTO1lBQ2pCLElBQUksRUFBWSxFQUFFO1lBQ2xCLGVBQWUsRUFBRSxLQUFLO1NBQ3ZCLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFFRCxPQUFPLEVBQUUsVUFBVSxLQUFVO1FBQzNCLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztRQUN6QyxFQUFFLENBQUMsYUFBYSxDQUFDO1lBQ2YsV0FBVyxFQUFFLEdBQUc7WUFDaEIsT0FBTyxFQUFFO2dCQUNQLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUE7WUFDeEIsQ0FBQztZQUNELElBQUksRUFBRTtnQkFDSixPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1lBQ3hCLENBQUM7U0FDRixDQUFDLENBQUE7SUFDSixDQUFDO0lBRUQsT0FBTyxFQUFFO1FBQ1AsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUE0QixDQUFDO1FBQy9DLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQTtRQUM1QixFQUFFLENBQUMsWUFBWSxDQUFDO1lBQ2QsUUFBUSxFQUFFLENBQUMsQ0FBQyxRQUFRO1lBQ3BCLFNBQVMsRUFBRSxDQUFDLENBQUMsU0FBUztZQUN0QixJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUk7WUFDWixPQUFPLEVBQUUsQ0FBQyxDQUFDLE9BQU87U0FDbkIsQ0FBQyxDQUFBO0lBQ0osQ0FBQztDQUNGLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkYXRhRnJvbU5ldCA9IHJlcXVpcmUoXCIuL2RhdGFGcm9tTmV0XCIpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5a+85YWl6K+35rGC572R57uc5pWw5o2u5Luj56CB5paH5Lu2XG5cblBhZ2Uoe1xuICBkYXRhOiB7XG4gICAgbWFya2Vyc1NpbXBsZTogPGRhdGFGcm9tTmV0Lk1hcmtlclNpbXBsZVtdPltdLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WIneWni+WMluWcsOWbvuagh+iusOeCueeugOWNleS/oeaBr+aVsOe7hO+8jOepuuaVsOe7hO+8jOmhtemdouato+W4uOaYvuekuuWcsOWbvu+8jOWbnuiwg+WQju+8jOiHquWKqOWcqOWcsOWbvuS4iuaYvuekuuagh+iusOeCue+8jOeUqOaIt+aEn+inieS4jeWIsOW7tui/n1xuICAgIG1hcmtlcjogPGRhdGFGcm9tTmV0Lk1hcmtlciB8IHVuZGVmaW5lZD51bmRlZmluZWQsICAgICAgICAgICAgICAgICAgICAgICAgLy/ooqvngrnlh7vnmoTlnLDlm77moIforrDngrnvvIzliJ3lp4vljJbkuLrnqbpcbiAgICBtYXJrZXJzOiA8ZGF0YUZyb21OZXQuTWFya2VyW10+W10sXG4gICAgc2hvd01vZGFsU3RhdHVzOiBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/mmL7npLror6bnu4bkv6Hmga/moIflv5dcbiAgICAvL3Nob3dMb2FkaW5nU3RhdHVzOiBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WKoOi9vWxvYWRpbmfliqjnlLvmoIflv5cgICAgXG4gIH0sXG5cbiAgb25Mb2FkKCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6aG16Z2i5Yqg6L2977yM5YWI5q2j5bi45Yqg6L295Zyw5Zu+77yMXG4gICAgZGF0YUZyb21OZXQubWFya2Vyc1NpbXBsZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+i/kOihjG1hcmtlcnNTaW1wbGXlr7nosaHnmoTln7rnoYDmlrnms5XvvIzlhbblhoXpg6jnmoTor7fmsYLnvZHnu5zmlbDmja7ku6PnoIHmmK/lvILmraXjgIHlu7bov5/nmoRcbiAgICAvL+aJgOS7peaXoOmcgOWIpOaWrWRhdGFGcm9tTmV0Lm1hcmtlcnNTaW1wbGUudmFsdWVz5piv5ZCm5a2Y5Zyo44CB5YaN6LWL5YC857uZbWFya2Vyc1NpbXBsZe+8jOWPr+ebtOaOpeWumuS5ieWSjOS9v+eUqOWbnuiwg1xuICAgIGxldCB0aGlzcyA9IHRoaXM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lv4XpobvmmoLlrZh0aGlz77yM5ZCm5YiZ5Zyo5Zue6LCD5Luj56CB5Lit55qEdGhpc+S4jeaYr+atpHRoaXPkuoZcbiAgICBkYXRhRnJvbU5ldC5tYXJrZXJzU2ltcGxlLnZhbHVlc0NhbGxiYWNrID0gZnVuY3Rpb24gKGRhdGE6IGRhdGFGcm9tTmV0Lk1hcmtlclNpbXBsZVtdKSB7ICAvL+WumuS5ieWunueOsOWbnuiwg+eahOS7o+egge+8jOeUqOS6jue9kee7nOaVsOaNruivt+axguWQjuWbnuiwg1xuICAgICAgdGhpc3Muc2V0RGF0YSh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/or7fmsYLliLDnvZHnu5zmlbDmja7lkI7vvIzorr7nva7lnLDlm77moIforrDngrnnroDljZXkv6Hmga/mlbDnu4TvvIzlnLDlm77kuIrnq4vljbPmmL7npLrmoIforrDngrnvvIzkuI3lv4XopoHmmL7npLrliqDovb3liqjnlLvvvIzorqnnlKjmiLfml6DmhJ/lu7bov59cbiAgICAgICAgbWFya2Vyc1NpbXBsZTogZGF0YVxuICAgICAgfSlcbiAgICB9XG4gIH0sXG5cbiAgb25TaG93KCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v55Sf5ZG95ZGo5pyf5Ye95pWwLS3nm5HlkKzpobXpnaLmmL7npLpcbiAgfSxcblxuICBzaG93TW9kYWw6IGZ1bmN0aW9uIChldmVudDogYW55KSB7XG4gICAgdmFyIGlkID0gZXZlbnQubWFya2VySWQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+eUqOaIt+eCueWHu+eahOWcsOWbvuagh+iusOeCueeahGlkXG5cbiAgICAvL+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGk+KGkyDorr7nva7moIforrDngrkg4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaT4oaTXG4gICAgZm9yIChsZXQgdiBvZiB0aGlzLmRhdGEubWFya2VycykgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WFiOWIpOaWreiiq+eCueWHu+eahOWcsOWbvueCueeahOivpue7huS/oeaBr+aYr+WQpuWcqOaVsOe7hOS4re+8jOWmguWcqO+8jOWImeaaguWtmOWIsG1cbiAgICAgIGlmIChpZCA9PSB2LmlkKSB7XG4gICAgICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICAgICAgbWFya2VyOiB2LFxuICAgICAgICAgIHNob3dNb2RhbFN0YXR1czogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLmRhdGEubWFya2VyKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5aaC5LiN5Zyo5pWw57uE5Lit77yM5YiZ572R57uc6K+35rGC5pWw5o2u77yM5YaN5a2Y5Yiw5pWw57uE5Lit77yM5LiL5qyh54K55Ye777yM6K+75Y+W5pWw57uE77yM5LiN5Zyo572R57uc6K+35rGCXG4gICAgICBpZiAoIWRhdGFGcm9tTmV0Lm1hcmtlci52YWx1ZUNhbGxiYWNrKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5aaC5p6c5LmL5YmN5rKh5pyJ5a6a5LmJ5Zue6LCD5pa55rOVXG4gICAgICAgIGxldCB0aGlzcyA9IHRoaXM7XG4gICAgICAgIGRhdGFGcm9tTmV0Lm1hcmtlci52YWx1ZUNhbGxiYWNrID0gZnVuY3Rpb24gKHZhbHVlOiBkYXRhRnJvbU5ldC5NYXJrZXIpIHsgIC8v5a6a5LmJ5a6e546w5Zue6LCD55qE5Luj56CB77yM55So5LqO572R57uc5pWw5o2u6K+35rGC5ZCO5Zue6LCDXG4gICAgICAgICAgdGhpc3MuZGF0YS5tYXJrZXJzLnB1c2godmFsdWUpO1xuICAgICAgICAgIHRoaXNzLnNldERhdGEoe1xuICAgICAgICAgICAgbWFya2VyOiB2YWx1ZSxcbiAgICAgICAgICAgIHNob3dNb2RhbFN0YXR1czogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRhdGFGcm9tTmV0Lm1hcmtlcihpZCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WQr+WKqOWcsOWbvuagh+iusOeCueaOpeWPo+WfuuehgOaWueazle+8jOivt+axguagh+iusOeCueivpue7hueahOe9kee7nOaVsOaNrlxuICAgIH1cbiAgICAvL+KGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkSAg6K6+572u5qCH6K6w54K5IOKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkeKGkVxuICB9LFxuXG4gIGhpZGVNb2RhbDogZnVuY3Rpb24gKCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+eCueWHu+mhtemdou+8jOmakOiXj+W8ueWHuuahhlxuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBtYXJrZXI6IHVuZGVmaW5lZCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5oqK5qCH6K6w54K56K6+572u5Li656m6XG4gICAgICBpbWdzOiA8U3RyaW5nW10+W10sXG4gICAgICBzaG93TW9kYWxTdGF0dXM6IGZhbHNlXG4gICAgfSlcbiAgfSxcblxuICBjYWxsaW5nOiBmdW5jdGlvbiAoZXZlbnQ6IGFueSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/miZPnlLXor51cbiAgICB2YXIgdGVsID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmlkO1xuICAgIHd4Lm1ha2VQaG9uZUNhbGwoe1xuICAgICAgcGhvbmVOdW1iZXI6IHRlbCxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCLmi6jmiZPnlLXor53miJDlip/vvIFcIilcbiAgICAgIH0sXG4gICAgICBmYWlsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi5ouo5omT55S16K+d5aSx6LSl77yBXCIpXG4gICAgICB9XG4gICAgfSlcbiAgfSxcblxuICBkYW9oYW5nOiBmdW5jdGlvbiAoKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lr7zoiKrlnLDlm75cbiAgICB2YXIgbSA9IHRoaXMuZGF0YS5tYXJrZXIgYXMgZGF0YUZyb21OZXQuTWFya2VyO1xuICAgIHRoaXMuZGF0YS5tYXJrZXIgPSB1bmRlZmluZWRcbiAgICB3eC5vcGVuTG9jYXRpb24oe1xuICAgICAgbGF0aXR1ZGU6IG0ubGF0aXR1ZGUsXG4gICAgICBsb25naXR1ZGU6IG0ubG9uZ2l0dWRlLFxuICAgICAgbmFtZTogbS5uYW1lLFxuICAgICAgYWRkcmVzczogbS5hZGRyZXNzXG4gICAgfSlcbiAgfSxcbn0pIl19