"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Video = (function () {
    function Video(id, vid, title) {
        this.src = '';
        this.id = id;
        this.vid = vid;
        this.title = title;
        this.getSrc();
    }
    Video.prototype.getSrc = function () {
        var that = this;
        wx.request({
            url: 'https://vv.video.qq.com/getinfo',
            data: {
                vids: that.vid,
                platform: 101001,
                charge: 0,
                otype: 'json'
            },
            header: {
                'content-type': 'application/json;charset=UTF-8'
            },
            method: 'GET',
            dataType: 'json',
            success: function (res) {
                var str = res.data;
                var url = str.match(/(?<=\[{"url":").*?(?=","vt")/);
                var urll = url ? url[0] : '';
                var fn = str.match(/(?<=,"fn":").*?(?=","fs")/);
                var fnn = fn ? fn[0] : '';
                var fvkey = str.match(/(?<=,"fvkey":").*?(?=","head")/);
                var fvkeyy = fvkey ? fvkey : '';
                var src = urll + fnn + "?vkey=" + fvkeyy;
                that.src = src;
            },
            fail: function (res) {
                console.log(res.errMsg);
            }
        });
    };
    return Video;
}());
exports.Video = Video;
exports.videos = [
    new Video(1, 'x0961yzsbpk', '生态环境部宣传片'),
    new Video(2, 'z0961nhl5vi', '环境监测设施'),
    new Video(3, 'n0980b7gjef', '城市污水处理设施'),
    new Video(4, 'u096134l8rp', '生活垃圾处理设施'),
    new Video(5, 'x09614l32ux', '废弃电器电子产品处理设施')
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImRhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTtJQUtJLGVBQVksRUFBVSxFQUFFLEdBQVcsRUFBRSxLQUFhO1FBRmxELFFBQUcsR0FBVyxFQUFFLENBQUM7UUFHYixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFDRCxzQkFBTSxHQUFOO1FBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFBO1FBQ2YsRUFBRSxDQUFDLE9BQU8sQ0FBQztZQUNQLEdBQUcsRUFBRSxpQ0FBaUM7WUFDdEMsSUFBSSxFQUFFO2dCQUNGLElBQUksRUFBRSxJQUFJLENBQUMsR0FBRztnQkFDZCxRQUFRLEVBQUUsTUFBTTtnQkFDaEIsTUFBTSxFQUFFLENBQUM7Z0JBQ1QsS0FBSyxFQUFFLE1BQU07YUFDaEI7WUFDRCxNQUFNLEVBQUU7Z0JBQ0osY0FBYyxFQUFFLGdDQUFnQzthQUNuRDtZQUNELE1BQU0sRUFBRSxLQUFLO1lBQ2IsUUFBUSxFQUFFLE1BQU07WUFDaEIsT0FBTyxZQUFDLEdBQUc7Z0JBQ1AsSUFBSSxHQUFHLEdBQVcsR0FBRyxDQUFDLElBQWMsQ0FBQztnQkFFckMsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO2dCQUNwRCxJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2dCQUM3QixJQUFJLEVBQUUsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLDJCQUEyQixDQUFDLENBQUM7Z0JBQ2hELElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQzFCLElBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztnQkFDeEQsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQkFFaEMsSUFBSSxHQUFHLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxRQUFRLEdBQUcsTUFBTSxDQUFDO2dCQUN6QyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztZQUVuQixDQUFDO1lBQ0QsSUFBSSxZQUFDLEdBQUc7Z0JBQ0osT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDM0IsQ0FBQztTQUNKLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTCxZQUFDO0FBQUQsQ0FBQyxBQTlDRCxJQThDQztBQTlDWSxzQkFBSztBQWdEUCxRQUFBLE1BQU0sR0FBWTtJQUN6QixJQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUUsYUFBYSxFQUFFLFVBQVUsQ0FBQztJQUN2QyxJQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUUsYUFBYSxFQUFFLFFBQVEsQ0FBQztJQUNyQyxJQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUUsYUFBYSxFQUFFLFVBQVUsQ0FBQztJQUN2QyxJQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUUsYUFBYSxFQUFFLFVBQVUsQ0FBQztJQUN2QyxJQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUUsYUFBYSxFQUFFLGNBQWMsQ0FBQztDQUM5QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFZpZGVvIHtcclxuICAgIGlkOiBudW1iZXI7XHJcbiAgICB2aWQ6IHN0cmluZztcclxuICAgIHNyYzogc3RyaW5nID0gJyc7XHJcbiAgICB0aXRsZTogc3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgdmlkOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy52aWQgPSB2aWQ7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xyXG4gICAgICAgIHRoaXMuZ2V0U3JjKCk7XHJcbiAgICB9XHJcbiAgICBnZXRTcmMoKSB7XHJcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzXHJcbiAgICAgICAgd3gucmVxdWVzdCh7XHJcbiAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vdnYudmlkZW8ucXEuY29tL2dldGluZm8nLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICB2aWRzOiB0aGF0LnZpZCxcclxuICAgICAgICAgICAgICAgIHBsYXRmb3JtOiAxMDEwMDEsXHJcbiAgICAgICAgICAgICAgICBjaGFyZ2U6IDAsXHJcbiAgICAgICAgICAgICAgICBvdHlwZTogJ2pzb24nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhlYWRlcjoge1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnIC8vIOm7mOiupOWAvFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBzdWNjZXNzKHJlcykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0cjogc3RyaW5nID0gcmVzLmRhdGEgYXMgc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgLy/nlKjmraPliJnooajovr7lvI9cclxuICAgICAgICAgICAgICAgIGxldCB1cmwgPSBzdHIubWF0Y2goLyg/PD1cXFt7XCJ1cmxcIjpcIikuKj8oPz1cIixcInZ0XCIpLyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdXJsbCA9IHVybCA/IHVybFswXSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZuID0gc3RyLm1hdGNoKC8oPzw9LFwiZm5cIjpcIikuKj8oPz1cIixcImZzXCIpLyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZm5uID0gZm4gPyBmblswXSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZ2a2V5ID0gc3RyLm1hdGNoKC8oPzw9LFwiZnZrZXlcIjpcIikuKj8oPz1cIixcImhlYWRcIikvKTtcclxuICAgICAgICAgICAgICAgIGxldCBmdmtleXkgPSBmdmtleSA/IGZ2a2V5IDogJyc7XHJcbiAgICAgICAgICAgICAgICAvL+inhOW+i3VybCArIGZuICsgJz92a2V5PScgKyBmdmtleSBcclxuICAgICAgICAgICAgICAgIGxldCBzcmMgPSB1cmxsICsgZm5uICsgXCI/dmtleT1cIiArIGZ2a2V5eTtcclxuICAgICAgICAgICAgICAgIHRoYXQuc3JjID0gc3JjO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhhdC5pZCArICcgJyArIHRoYXQudGl0bGUgKyAnICcgKyBzcmMpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZhaWwocmVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZXJyTXNnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgbGV0IHZpZGVvczogVmlkZW9bXSA9IFtcclxuICAgIG5ldyBWaWRlbygxLCAneDA5NjF5enNicGsnLCAn55Sf5oCB546v5aKD6YOo5a6j5Lyg54mHJyksXHJcbiAgICBuZXcgVmlkZW8oMiwgJ3owOTYxbmhsNXZpJywgJ+eOr+Wig+ebkea1i+iuvuaWvScpLFxyXG4gICAgbmV3IFZpZGVvKDMsICduMDk4MGI3Z2plZicsICfln47luILmsaHmsLTlpITnkIborr7mlr0nKSxcclxuICAgIG5ldyBWaWRlbyg0LCAndTA5NjEzNGw4cnAnLCAn55Sf5rS75Z6D5Zy+5aSE55CG6K6+5pa9JyksXHJcbiAgICBuZXcgVmlkZW8oNSwgJ3gwOTYxNGwzMnV4JywgJ+W6n+W8g+eUteWZqOeUteWtkOS6p+WTgeWkhOeQhuiuvuaWvScpXHJcbl07XHJcbiJdfQ==