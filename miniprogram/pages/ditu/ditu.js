"use strict";
var externalData = require("data.js");
Page({
    data: {
        markers: [],
        marker: {
            "id": "jc01",
            "type": "监测",
            "longitude": 115.266900,
            "latitude": 33.049593,
            "name": "临泉县环境监测站",
            "address": "临泉县港口路238号",
            "tel": "0558-6288017",
            "jieDaiNengLi": "10人",
            "scale": 8
        },
        controls: [{
                id: 1,
                iconPath: '/images/mk.png',
                position: {
                    left: 0,
                    top: 300 - 1,
                    width: 50,
                    height: 50
                },
                clickable: true
            }]
    },
    onLoad: function () {
        this.setData({
            isshow: true,
            markers: externalData.markers
        });
    },
    showModal: function (event) {
        this.setData({
            showModalStatus: true,
            marker: this.data.markers[event.markerId - 1]
        });
    },
    hideModal: function () {
        this.setData({
            showModalStatus: false
        });
    },
    login: function (event) {
        console.log(event);
    },
    calling: function (event) {
        var tel = event.currentTarget.dataset.id;
        wx.makePhoneCall({
            phoneNumber: tel,
            success: function () {
                console.log("拨打电话成功！");
            },
            fail: function () {
                console.log("拨打电话失败！");
            }
        });
    },
    daohang: function () {
        var marker = this.data.marker;
        wx.openLocation({
            latitude: marker.latitude,
            longitude: marker.longitude,
            scale: marker.scale,
            name: marker.name,
            address: marker.address
        });
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGl0dS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImRpdHUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUksWUFBWSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUN0QyxJQUFJLENBQUM7SUFDSCxJQUFJLEVBQUU7UUFDSixPQUFPLEVBQUUsRUFBRTtRQUNYLE1BQU0sRUFBRTtZQUNOLElBQUksRUFBRSxNQUFNO1lBQ1osTUFBTSxFQUFFLElBQUk7WUFDWixXQUFXLEVBQUUsVUFBVTtZQUN2QixVQUFVLEVBQUUsU0FBUztZQUNyQixNQUFNLEVBQUUsVUFBVTtZQUNsQixTQUFTLEVBQUUsWUFBWTtZQUN2QixLQUFLLEVBQUUsY0FBYztZQUNyQixjQUFjLEVBQUUsS0FBSztZQUNyQixPQUFPLEVBQUUsQ0FBQztTQUNYO1FBQ0QsUUFBUSxFQUFFLENBQUM7Z0JBQ1QsRUFBRSxFQUFFLENBQUM7Z0JBQ0wsUUFBUSxFQUFFLGdCQUFnQjtnQkFDMUIsUUFBUSxFQUFFO29CQUNSLElBQUksRUFBRSxDQUFDO29CQUNQLEdBQUcsRUFBRSxHQUFHLEdBQUcsQ0FBQztvQkFDWixLQUFLLEVBQUUsRUFBRTtvQkFDVCxNQUFNLEVBQUUsRUFBRTtpQkFDWDtnQkFDRCxTQUFTLEVBQUUsSUFBSTthQUNoQixDQUFDO0tBQ0g7SUFFRCxNQUFNLEVBQUU7UUFDTixJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ1gsTUFBTSxFQUFFLElBQUk7WUFDWixPQUFPLEVBQUUsWUFBWSxDQUFDLE9BQU87U0FDOUIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELFNBQVMsRUFBRSxVQUFVLEtBQVU7UUFDN0IsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNYLGVBQWUsRUFBRSxJQUFJO1lBQ3JCLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztTQUM5QyxDQUFDLENBQUE7SUFDSixDQUFDO0lBRUQsU0FBUyxFQUFFO1FBQ1QsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNYLGVBQWUsRUFBRSxLQUFLO1NBQ3ZCLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFDRCxLQUFLLEVBQUUsVUFBVSxLQUFVO1FBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDcEIsQ0FBQztJQUVELE9BQU8sRUFBRSxVQUFVLEtBQVU7UUFDM0IsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQ3pDLEVBQUUsQ0FBQyxhQUFhLENBQUM7WUFDZixXQUFXLEVBQUUsR0FBRztZQUNoQixPQUFPLEVBQUU7Z0JBQ1AsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQTtZQUN4QixDQUFDO1lBQ0QsSUFBSSxFQUFFO2dCQUNKLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUE7WUFDeEIsQ0FBQztTQUNGLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFFRCxPQUFPLEVBQUU7UUFDUCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUM5QixFQUFFLENBQUMsWUFBWSxDQUFDO1lBQ2QsUUFBUSxFQUFFLE1BQU0sQ0FBQyxRQUFRO1lBQ3pCLFNBQVMsRUFBRSxNQUFNLENBQUMsU0FBUztZQUMzQixLQUFLLEVBQUUsTUFBTSxDQUFDLEtBQUs7WUFDbkIsSUFBSSxFQUFFLE1BQU0sQ0FBQyxJQUFJO1lBQ2pCLE9BQU8sRUFBRSxNQUFNLENBQUMsT0FBTztTQUN4QixDQUFDLENBQUE7SUFDSixDQUFDO0NBQ0YsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGV4dGVybmFsRGF0YSA9IHJlcXVpcmUoXCJkYXRhLmpzXCIpO1xuUGFnZSh7XG4gIGRhdGE6IHtcbiAgICBtYXJrZXJzOiBbXSxcbiAgICBtYXJrZXI6IHtcbiAgICAgIFwiaWRcIjogXCJqYzAxXCIsXG4gICAgICBcInR5cGVcIjogXCLnm5HmtYtcIixcbiAgICAgIFwibG9uZ2l0dWRlXCI6IDExNS4yNjY5MDAsXG4gICAgICBcImxhdGl0dWRlXCI6IDMzLjA0OTU5MyxcbiAgICAgIFwibmFtZVwiOiBcIuS4tOazieWOv+eOr+Wig+ebkea1i+ermVwiLFxuICAgICAgXCJhZGRyZXNzXCI6IFwi5Li05rOJ5Y6/5riv5Y+j6LevMjM45Y+3XCIsXG4gICAgICBcInRlbFwiOiBcIjA1NTgtNjI4ODAxN1wiLFxuICAgICAgXCJqaWVEYWlOZW5nTGlcIjogXCIxMOS6ulwiLFxuICAgICAgXCJzY2FsZVwiOiA4XG4gICAgfSxcbiAgICBjb250cm9sczogW3tcbiAgICAgIGlkOiAxLFxuICAgICAgaWNvblBhdGg6ICcvaW1hZ2VzL21rLnBuZycsXG4gICAgICBwb3NpdGlvbjoge1xuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB0b3A6IDMwMCAtIDEsXG4gICAgICAgIHdpZHRoOiA1MCxcbiAgICAgICAgaGVpZ2h0OiA1MFxuICAgICAgfSxcbiAgICAgIGNsaWNrYWJsZTogdHJ1ZVxuICAgIH1dXG4gIH0sXG4gIC8v5Yid5aeL5YyWXG4gIG9uTG9hZDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBpc3Nob3c6IHRydWUsXG4gICAgICBtYXJrZXJzOiBleHRlcm5hbERhdGEubWFya2Vyc1xuICAgIH0pO1xuICB9LFxuICAvL+eCueWHu+agh+iusOeCue+8jOaYvuekuuW8ueWHuuahhlxuICBzaG93TW9kYWw6IGZ1bmN0aW9uIChldmVudDogYW55KSB7XG4gICAgdGhpcy5zZXREYXRhKHtcbiAgICAgIHNob3dNb2RhbFN0YXR1czogdHJ1ZSxcbiAgICAgIG1hcmtlcjogdGhpcy5kYXRhLm1hcmtlcnNbZXZlbnQubWFya2VySWQgLSAxXVxuICAgIH0pXG4gIH0sXG4gIC8v54K55Ye76aG16Z2i77yM6ZqQ6JeP5by55Ye65qGGXG4gIGhpZGVNb2RhbDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc2V0RGF0YSh7XG4gICAgICBzaG93TW9kYWxTdGF0dXM6IGZhbHNlXG4gICAgfSlcbiAgfSxcbiAgbG9naW46IGZ1bmN0aW9uIChldmVudDogYW55KSB7XG4gICAgY29uc29sZS5sb2coZXZlbnQpXG4gIH0sXG4gIC8v5omT55S16K+dXG4gIGNhbGxpbmc6IGZ1bmN0aW9uIChldmVudDogYW55KSB7XG4gICAgdmFyIHRlbCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pZDtcbiAgICB3eC5tYWtlUGhvbmVDYWxsKHtcbiAgICAgIHBob25lTnVtYmVyOiB0ZWwsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi5ouo5omT55S16K+d5oiQ5Yqf77yBXCIpXG4gICAgICB9LFxuICAgICAgZmFpbDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIuaLqOaJk+eUteivneWksei0pe+8gVwiKVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIC8v5a+86Iiq5Zyw5Zu+XG4gIGRhb2hhbmc6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbWFya2VyID0gdGhpcy5kYXRhLm1hcmtlcjtcbiAgICB3eC5vcGVuTG9jYXRpb24oe1xuICAgICAgbGF0aXR1ZGU6IG1hcmtlci5sYXRpdHVkZSxcbiAgICAgIGxvbmdpdHVkZTogbWFya2VyLmxvbmdpdHVkZSxcbiAgICAgIHNjYWxlOiBtYXJrZXIuc2NhbGUsXG4gICAgICBuYW1lOiBtYXJrZXIubmFtZSxcbiAgICAgIGFkZHJlc3M6IG1hcmtlci5hZGRyZXNzXG4gICAgfSlcbiAgfSxcbn0pIl19