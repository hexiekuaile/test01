"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var commonData_1 = require("../../utils/commonData");
var MarkerSimple = (function () {
    function MarkerSimple(id, type, longitude, latitude, name) {
        this.id = id;
        this.type = type;
        this.longitude = longitude;
        this.latitude = latitude;
        this.name = name;
    }
    return MarkerSimple;
}());
exports.MarkerSimple = MarkerSimple;
;
;
var URL_MARKERSSIMPLE_JSON = commonData_1.EXTERNAL_DATA_PATH + "/data/markersSimple.json";
function getMarkersSimple() {
    var func = function () {
        wx.request({
            url: URL_MARKERSSIMPLE_JSON,
            success: function (res) {
                func.values = res.data;
                if (func.valuesCallback) {
                    func.valuesCallback(func.values);
                }
            },
            fail: function (res) {
                console.log('markersSimple网络连接错误： ' + res.errMsg);
            }
        });
    };
    return func;
}
;
exports.markersSimple = getMarkersSimple();
var URL_PATH_PRE_IMG = commonData_1.EXTERNAL_DATA_PATH + "/img/";
var Marker = (function () {
    function Marker(id, type, longitude, latitude, name, address, tel, jiedainengli, imgNum, imgsURL, info) {
        if (imgNum === void 0) { imgNum = 0; }
        if (imgsURL === void 0) { imgsURL = []; }
        if (info === void 0) { info = ''; }
        this.id = id;
        this.type = type;
        this.longitude = longitude;
        this.latitude = latitude;
        this.name = name;
        this.address = address;
        this.tel = tel;
        this.jiedainengli = jiedainengli;
        this.info = info;
        this.imgNum = imgNum;
        this.imgsURL = imgsURL;
        if (imgNum > 9)
            this.imgNum = 9;
        else if (imgNum < 0)
            this.imgNum = 0;
        if (imgsURL.length == 0 && imgNum > 0)
            for (var i = 0; i < imgNum; i++) {
                var u = URL_PATH_PRE_IMG + id + i + '.jpg';
                this.imgsURL.push(u);
            }
    }
    return Marker;
}());
exports.Marker = Marker;
;
;
var URL_MARKERS_JSON = commonData_1.EXTERNAL_DATA_PATH + "/data/marker";
function getMarker() {
    var func = function (id) {
        wx.request({
            url: URL_MARKERS_JSON + id + '.json',
            success: function (res) {
                func.value = res.data;
                if (func.value.imgNum > 9)
                    func.value.imgNum = 9;
                else if (func.value.imgNum < 0)
                    func.value.imgNum = 0;
                func.value.imgsURL = [];
                if (func.value.imgNum > 0 && func.value.imgsURL.length == 0)
                    for (var i = 1; i < func.value.imgNum + 1; i++) {
                        var u = URL_PATH_PRE_IMG + id + i + '.jpg';
                        func.value.imgsURL.push(u);
                    }
                if (func.valueCallback) {
                    func.valueCallback(func.value);
                }
            },
            fail: function (res) {
                console.log('地图定位点详细信息，网络连接错误 id=' + id + ' : ' + res.errMsg);
            }
        });
    };
    return func;
}
;
exports.marker = getMarker();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmV0ZGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm5ldGRhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxxREFBNEQ7QUFFNUQ7SUFNRSxzQkFBWSxFQUFVLEVBQUUsSUFBWSxFQUFFLFNBQWlCLEVBQUUsUUFBZ0IsRUFBRSxJQUFZO1FBQ3JGLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQUNILG1CQUFDO0FBQUQsQ0FBQyxBQWJELElBYUM7QUFiWSxvQ0FBWTtBQWF4QixDQUFDO0FBTUQsQ0FBQztBQUVGLElBQU0sc0JBQXNCLEdBQVcsK0JBQWtCLEdBQUMsMEJBQTBCLENBQUM7QUFFckYsU0FBUyxnQkFBZ0I7SUFDdkIsSUFBSSxJQUFJLEdBQW1CO1FBQ3pCLEVBQUUsQ0FBQyxPQUFPLENBQUM7WUFDVCxHQUFHLEVBQUUsc0JBQXNCO1lBQzNCLE9BQU8sWUFBQyxHQUFHO2dCQUNULElBQUksQ0FBQyxNQUFNLEdBQW1CLEdBQUcsQ0FBQyxJQUFJLENBQUM7Z0JBRXZDLElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRTtvQkFDdkIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7aUJBQ2xDO1lBQ0gsQ0FBQztZQUNELElBQUksWUFBQyxHQUFHO2dCQUNOLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQ25ELENBQUM7U0FDRixDQUFDLENBQUM7SUFDTCxDQUFDLENBQUM7SUFDRixPQUFPLElBQUksQ0FBQztBQUNkLENBQUM7QUFBQSxDQUFDO0FBRVMs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RyxnQkFBZ0IsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQzt3QkFDM0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO3FCQUM1QjtnQkFDSCxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7b0JBQ3RCLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUNoQztZQUNILENBQUM7WUFDRCxJQUFJLFlBQUMsR0FBRztnQkFDTixPQUFPLENBQUMsR0FBRyxDQUFDLHNCQUFzQixHQUFHLEVBQUUsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQy9ELENBQUM7U0FDRixDQUFDLENBQUM7SUFDTCxDQUFDLENBQUM7SUFDRixPQUFPLElBQUksQ0FBQztBQUNkLENBQUM7QUFBQSxDQUFDO0FBRVMsUUFBQSxNQUFNLEdBQUcsU0FBUyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFWFRFUk5BTF9EQVRBX1BBVEggfSBmcm9tIFwiLi4vLi4vdXRpbHMvY29tbW9uRGF0YVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1hcmtlclNpbXBsZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v566A5Y2V55qE5Zyw5Zu+5qCH6K6w54K557G7XHJcbiAgaWQ6IG51bWJlcjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+W6j+WPt1xyXG4gIHR5cGU6IHN0cmluZzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/nsbvlnotcclxuICBsb25naXR1ZGU6IG51bWJlcjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v57uP5bqmXHJcbiAgbGF0aXR1ZGU6IG51bWJlcjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+e6rOW6piBcclxuICBuYW1lOiBzdHJpbmc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5ZCN56ewXHJcbiAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgdHlwZTogc3RyaW5nLCBsb25naXR1ZGU6IG51bWJlciwgbGF0aXR1ZGU6IG51bWJlciwgbmFtZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgdGhpcy5sb25naXR1ZGUgPSBsb25naXR1ZGU7XHJcbiAgICB0aGlzLmxhdGl0dWRlID0gbGF0aXR1ZGU7XHJcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gIH1cclxufTtcclxuXHJcbmludGVyZmFjZSBJTWFya2Vyc1NpbXBsZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+a3t+WQiOexu+Wei+eahOaOpeWPo++8jOeugOWNleeahOWcsOWbvuagh+iusOeCueaOpeWPo1xyXG4gICgpOiB2b2lkOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/mjqXlj6PnmoTln7rnoYDmlrnms5VcclxuICB2YWx1ZXM6IE1hcmtlclNpbXBsZVtdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v566A5Y2V55qE5Zyw5Zu+5qCH6K6w54K55pWw57uE77yM55Sx5Z+656GA5pa55rOV5LuO572R57uc6K+35rGC5pWw5o2uXHJcbiAgdmFsdWVzQ2FsbGJhY2s/OiAodmFsdWVzOiBNYXJrZXJTaW1wbGVbXSkgPT4gdm9pZDsgICAgICAvL+WPr+mAieeahOaOpeWPo+eahOWbnuiwg+aWueazle+8jFxyXG59O1xyXG5cclxuY29uc3QgVVJMX01BUktFUlNTSU1QTEVfSlNPTjogc3RyaW5nID0gRVhURVJOQUxfREFUQV9QQVRIK1wiL2RhdGEvbWFya2Vyc1NpbXBsZS5qc29uXCI7Ly/lnLDlm77moIforrDngrnnmoTnroDljZXkv6Hmga/vvIzku4Xku4Xnu4/nuqzluqbjgIHlkI3np7BcclxuXHJcbmZ1bmN0aW9uIGdldE1hcmtlcnNTaW1wbGUoKTogSU1hcmtlcnNTaW1wbGUgeyAgICAgICAgICAgICAgLy/mjqXlj6Plrp7njrDvvIzku4Xlrp7njrDkuobln7rnoYDmlrnms5Xku6PnoIHvvIzmnKrlrp7njrDlm57osIPmlrnms5XvvIxcclxuICBsZXQgZnVuYyA9IDxJTWFya2Vyc1NpbXBsZT5mdW5jdGlvbiAoKSB7XHJcbiAgICB3eC5yZXF1ZXN0KHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+e9kee7nOivt+axguWPluaVsOaNrlxyXG4gICAgICB1cmw6IFVSTF9NQVJLRVJTU0lNUExFX0pTT04sICAgICAgICAgICAgICAgICAgICAgICAgIC8v566A5Y2V5Zyw5Zu+5qCH6K6w54K5anNvbuaWh+S7tueahOe9kee7nOWcsOWdgFxyXG4gICAgICBzdWNjZXNzKHJlcykge1xyXG4gICAgICAgIGZ1bmMudmFsdWVzID0gPE1hcmtlclNpbXBsZVtdPnJlcy5kYXRhO1xyXG5cclxuICAgICAgICBpZiAoZnVuYy52YWx1ZXNDYWxsYmFjaykgeyAgICAgICAgICAgICAgICAgICAgICAgIC8v5aaC5p6c5Zue6LCD5pa55rOV5a2Y5Zyo77yM5YiZ6L+Q6KGM5Zue6LCD5pa55rOVXHJcbiAgICAgICAgICBmdW5jLnZhbHVlc0NhbGxiYWNrKGZ1bmMudmFsdWVzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGZhaWwocmVzKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ21hcmtlcnNTaW1wbGXnvZHnu5zov57mjqXplJnor6/vvJogJyArIHJlcy5lcnJNc2cpXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbiAgcmV0dXJuIGZ1bmM7XHJcbn07XHJcbi8v5aOw5piO5a+56LGh5Y+Y6YePXHJcbmV4cG9ydCBsZXQgbWFya2Vyc1NpbXBsZSA9IGdldE1hcmtlcnNTaW1wbGUoKTtcclxuLy/ov5DooYzlr7nosaHnmoTln7rnoYDmlrnms5Xku6PnoIHvvIznvZHnu5zor7fmsYLmlbDmja5cclxuLy9tYXJrZXJzU2ltcGxlKCk7XHJcblxyXG5jb25zdCBVUkxfUEFUSF9QUkVfSU1HOiBzdHJpbmcgPSBFWFRFUk5BTF9EQVRBX1BBVEgrXCIvaW1nL1wiOy8v5Zyw5Zu+5qCH6K6w54K55Luj6KGo55qE5byA5pS+5Y2V5L2N54Wn54mHdXJs5YmN57yAXHJcblxyXG5leHBvcnQgY2xhc3MgTWFya2VyIHsgICAgICAgICAgICAgICAgICAgICAgIC8v5Zyw5Zu+5qCH6K6w54K557G7XHJcbiAgaWQ6IG51bWJlcjtcclxuICB0eXBlOiBzdHJpbmc7Ly/nsbvlnotcclxuICBsb25naXR1ZGU6IG51bWJlcjsvL+e7j+W6plxyXG4gIGxhdGl0dWRlOiBudW1iZXI7Ly/nuqzluqZcclxuICBuYW1lOiBzdHJpbmc7Ly/lkI3np7BcclxuICBhZGRyZXNzOiBzdHJpbmc7Ly/lnLDlnYBcclxuICB0ZWw6IHN0cmluZzsvL+eUteivnVxyXG4gIGppZWRhaW5lbmdsaTogbnVtYmVyOy8v5o6l5b6F6IO95YqbXHJcbiAgaW1nTnVtOiBudW1iZXI7Ly/lm77niYfmlbDph4/vvIzlm77niYflkI3np7DmmK9pZCtpbWdOdW0ucG5n77yM57qm5a6a77yaMOKJpGltZ051beKJpDnvvIzlpoLvvJoxMS5wbmfvvIwyMS5wbmfvvIwyMi5wbmdcclxuICBpbWdzVVJMOiBzdHJpbmdbXTsvL+W8gOaUvuWNleS9jeeFp+eJh+aVsOe7hFxyXG4gIGluZm86IHN0cmluZzsvL+S/oeaBr+aWh+acrFxyXG4gIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIHR5cGU6IHN0cmluZywgbG9uZ2l0dWRlOiBudW1iZXIsIGxhdGl0dWRlOiBudW1iZXIsIG5hbWU6IHN0cmluZywgYWRkcmVzczogc3RyaW5nLCB0ZWw6IHN0cmluZywgamllZGFpbmVuZ2xpOiBudW1iZXIsIGltZ051bTogbnVtYmVyID0gMCwgaW1nc1VSTDogc3RyaW5nW10gPSA8c3RyaW5nW10+W10sXHJcbiAgICBpbmZvOiBzdHJpbmcgPSAnJykge1xyXG4gICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgIHRoaXMubG9uZ2l0dWRlID0gbG9uZ2l0dWRlO1xyXG4gICAgdGhpcy5sYXRpdHVkZSA9IGxhdGl0dWRlO1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XHJcbiAgICB0aGlzLnRlbCA9IHRlbDtcclxuICAgIHRoaXMuamllZGFpbmVuZ2xpID0gamllZGFpbmVuZ2xpO1xyXG4gICAgdGhpcy5pbmZvID0gaW5mbztcclxuICAgIHRoaXMuaW1nTnVtID0gaW1nTnVtO1xyXG4gICAgdGhpcy5pbWdzVVJMID0gaW1nc1VSTDtcclxuXHJcbiAgICBpZiAoaW1nTnVtID4gOSlcclxuICAgICAgdGhpcy5pbWdOdW0gPSA5O1xyXG4gICAgZWxzZSBpZiAoaW1nTnVtIDwgMClcclxuICAgICAgdGhpcy5pbWdOdW0gPSAwXHJcblxyXG4gICAgaWYgKGltZ3NVUkwubGVuZ3RoID09IDAgJiYgaW1nTnVtID4gMCkgLy/orr7nva7ljZXkvY3kv6Hmga/kuK3nmoTlm77niYdcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWdOdW07IGkrKykge1xyXG4gICAgICAgIGxldCB1ID0gVVJMX1BBVEhfUFJFX0lNRyArIGlkICsgaSArICcuanBnJzsvL+e6puWumu+8muWbvueJh+i3r+W+hFxyXG4gICAgICAgIHRoaXMuaW1nc1VSTC5wdXNoKHUpO1xyXG4gICAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuaW50ZXJmYWNlIElNYXJrZXIgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+a3t+WQiOexu+Wei+eahOaOpeWPo++8jOWcsOWbvuagh+iusOeCueaOpeWPo1xyXG4gIChpZDogbnVtYmVyKTogdm9pZDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5o6l5Y+j55qE5Z+656GA5pa55rOVXHJcbiAgdmFsdWU6IE1hcmtlcjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lnLDlm77moIforrDngrnvvIznlLHln7rnoYDmlrnms5Xku47nvZHnu5zor7fmsYLmlbDmja5cclxuICB2YWx1ZUNhbGxiYWNrPzogKHZhbHVlOiBNYXJrZXIpID0+IHZvaWQ7ICAgICAgICAgICAgICAgIC8v5Y+v6YCJ55qE5o6l5Y+j55qE5Zue6LCD5pa55rOV77yMXHJcbn07XHJcblxyXG4vL+WcsOWbvuagh+iusOeCuWpzb27mlofku7bnmoTlnLDlnYDvvIzlvaLlpoIgaHR0cHM6Ly9hLTEyNTYxMzY0OTMuY29zLmFwLW5hbmppbmcubXlxY2xvdWQuY29tL2Z5aGJzcy9tYXJrZXIxLmpzb25cclxuY29uc3QgVVJMX01BUktFUlNfSlNPTjogc3RyaW5nID0gRVhURVJOQUxfREFUQV9QQVRIK1wiL2RhdGEvbWFya2VyXCI7Ly/lnLDlm77moIforrDngrnovoPlpJrkv6Hmga/vvIzlkKvor6bnu4bkv6Hmga8g5Zyw5Z2A44CB55S16K+d44CB562JXHJcblxyXG5mdW5jdGlvbiBnZXRNYXJrZXIoKTogSU1hcmtlciB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5o6l5Y+j5a6e546w77yM5LuF5a6e546w5LqG5Z+656GA5pa55rOV5Luj56CB77yM5pyq5a6e546w5Zue6LCD5pa55rOV77yMXHJcbiAgbGV0IGZ1bmMgPSA8SU1hcmtlcj5mdW5jdGlvbiAoaWQ6IG51bWJlcikgeyAgICAgICAgICAgICAgLy/nvZHnu5zor7fmsYLlj5bmlbDmja5cclxuICAgIHd4LnJlcXVlc3Qoe1xyXG4gICAgICB1cmw6IFVSTF9NQVJLRVJTX0pTT04gKyBpZCArICcuanNvbicsICAgICAgICAgICAgICAgICAvL+e6puWumu+8mueugOWNleWcsOWbvuagh+iusOeCuWpzb27mlofku7bnmoTnvZHnu5zlnLDlnYBcclxuICAgICAgc3VjY2VzcyhyZXMpIHtcclxuXHJcbiAgICAgICAgZnVuYy52YWx1ZSA9IDxNYXJrZXI+cmVzLmRhdGE7ICAgICAgICAgICAgICAgICAgICAvL+iHquWKqOijhemFje+8jOS9huayoeacieWQr+WKqOexu+aehOW7uuWZqCAgXHJcblxyXG4gICAgICAgIGlmIChmdW5jLnZhbHVlLmltZ051bSA+IDkpXHJcbiAgICAgICAgICBmdW5jLnZhbHVlLmltZ051bSA9IDk7XHJcbiAgICAgICAgZWxzZSBpZiAoZnVuYy52YWx1ZS5pbWdOdW0gPCAwKVxyXG4gICAgICAgICAgZnVuYy52YWx1ZS5pbWdOdW0gPSAwXHJcblxyXG4gICAgICAgIGZ1bmMudmFsdWUuaW1nc1VSTCA9IDxzdHJpbmdbXT5bXTsgICAgICAgICAgICAgIC8v5Yid5aeL5YyW5Zu+54mH6Lev5b6E5pWw57uEXHJcblxyXG4gICAgICAgIGlmIChmdW5jLnZhbHVlLmltZ051bSA+IDAgJiYgZnVuYy52YWx1ZS5pbWdzVVJMLmxlbmd0aCA9PSAwKSAvL+iuvue9ruWNleS9jeS/oeaBr+S4reeahOWbvueJh1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBmdW5jLnZhbHVlLmltZ051bSArIDE7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgdSA9IFVSTF9QQVRIX1BSRV9JTUcgKyBpZCArIGkgKyAnLmpwZyc7XHJcbiAgICAgICAgICAgIGZ1bmMudmFsdWUuaW1nc1VSTC5wdXNoKHUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGlmIChmdW5jLnZhbHVlQ2FsbGJhY2spIHsgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5aaC5p6c5Zue6LCD5pa55rOV5a2Y5Zyo77yM5YiZ6L+Q6KGM5Zue6LCD5pa55rOVXHJcbiAgICAgICAgICBmdW5jLnZhbHVlQ2FsbGJhY2soZnVuYy52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBmYWlsKHJlcykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCflnLDlm77lrprkvY3ngrnor6bnu4bkv6Hmga/vvIznvZHnu5zov57mjqXplJnor68gaWQ9JyArIGlkICsgJyA6ICcgKyByZXMuZXJyTXNnKVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIHJldHVybiBmdW5jO1xyXG59O1xyXG4vL+WjsOaYjuWvueixoeWPmOmHj1xyXG5leHBvcnQgbGV0IG1hcmtlciA9IGdldE1hcmtlcigpO1xyXG4iXX0=